<!-- DO NOT EDIT! This file is generated automatically! -->
<!doctype html>
<html id="css" lang="cs">
<head>
<meta charset="utf-8">
<title>GenerovÃ¡nÃ­ kÃ³du v M4: Ãºvod</title>
<link rel="stylesheet" type="text/css" href="../html/root_cz.css">
<style>.m4-ev{background:#f5f5f5}.urs p[id$="-toc"]>a>b{font-weight:normal;margin-right:.6em}.urs a[id^="m4-ref"]{font-size:.65em;vertical-align:super}.m4-A .m4-a,.m4-B .m4-b,.m4-C .m4-c,.m4-D .m4-d,.m4-E .m4-e,.m4-F .m4-f,.m4-G .m4-g,.m4-dh{background:lawngreen}.m4-R .m4-r{background:gold}.m4-S .m4-s{font-weight:bold}.m4-X .m4-x{visibility:hidden}.urs q{font-style:initial}.urs q::before{content:"\201e"}.urs q::after{content:"\201c"}#m4--toc{position:relative}#m4--toc>div{position:absolute;right:0;top:0}#m4--toc>div>div{display:inline-block}.m4-dwnl a{margin-left:.4em}.m4-updt{color:#666;text-align:right;margin-left:.6em}.m4-ch,.m4-bh,.m4-cmd{position:relative}.m4-bh>a:first-child::before,.m4-ch>a:first-child::before{font-size:.9em;font-weight:normal;position:absolute;right:100%;width:1.3em}.m4-ch>a:first-child::before{content:"\2630"}.m4-ch>a:first-child+a{margin-right:.4em}.m4-ch>a:last-child::before,.m4-bh>a:last-child::before{content:"\1f845";font-size:.65em;margin-left:.3em;position:absolute}.m4-ch>a:first-child,.m4-ch>a:last-child,.m4-bh>a:first-child,.m4-bh>a:last-child{opacity:0}.m4-ch:hover>a:first-child,.m4-ch:hover>a:last-child,.m4-bh:hover>a:first-child,.m4-bh:hover>a:last-child{opacity:1}.m4-xp{border-bottom:1px dotted #000;cursor:help}.m4-xp:active::after{content:" (" attr(title) ")"}.m4-note::before{content:"\1f5b9";margin-right:.2em;font-size:1.5em}.urs .m4-note,.urs .m4-info,.urs .m4-excl,.urs .m4-warn{padding-top:.2em;padding-bottom:.4em}.m4-note ul{margin-bottom:0;margin-left:1em}ol.m4-refs a:first-child::before{content:"\2191"}ol.m4-refs a:first-child{margin-right:.3em;text-decoration:none}.m4-l2{padding-left:1em}.m4-bh>a:first-child::before{content:"\1f517"}.m4-info::before{content:"\1f6c8";margin-right:.2em;font-size:1.5em}.m4-src{counter-reset:m4-nl}.m4-src>code>.m4-cb+a::before,.m4-cmd>code>.m4-cb+a::before{content:"\1f517"}.m4-src>code>.m4-cb+a,.m4-cmd>code>.m4-cb+a{font-weight:normal}.m4-src>code,.m4-cmd>code{border-radius:0 4px;border:1px solid #ddd;font-size:.7em;font-weight:bold;padding:2px 4px;position:absolute;right:0;text-align:right;top:0}.m4-src>code a,.m4-cmd>code a{margin-left:.6em}.m4-src>code>div{background:#eee;font-weight:initial;padding:0 2px;text-align:left}.m4-src>code>.m4-sha+a{background:#eee;color:inherit;margin:0 .6em}.m4-src>pre.m4-re{left:0;overflow:visible;padding-left:0;padding-right:0;position:absolute;top:0}.m4-src>pre+pre{background:none}.m4-src,.m4-src>pre,.m4-src>pre.m4-re>div{position:relative}.m4-src>pre.m4-re>div::before{content:counter(m4-nl);counter-increment:m4-nl;left:-3em;position:absolute;text-align:right;top:0;width:2.5em}.m4-src>pre.m4-re>div::after{content:" "}.m4-cb{cursor:pointer}.m4-cb::before{content:"\1f4cb"}.m4-hgl{border-bottom:1px dashed #000;cursor:help}.m4-cmd>pre{font-weight:bold;padding-right:0;white-space:normal;word-break:normal}.m4-cmd>code{visibility:hidden}.m4-cmd:hover>code{visibility:visible}.m4-cmd>pre a{color:inherit}.m4-root>pre::before{content:"# ";font-weight:normal}.m4-usc>pre::before{content:"$ ";font-weight:normal}.m4-sha{background:#eee;cursor:pointer;text-decoration:#f04c23 underline dashed}.m4-l3{padding-left:2em}</style>
</head>
<body id="root" class="js-advert-branding-click-event js-advert-sas-position-mark-background p-text design-page--theme-default design-page--root-cz design-page design-body design-page--has-advert--article-intext-1 design-page--has-advert--as-clanky-300x250 design-page--has-advert--mobile-footer design-page--has-advert--mobile-vignette design-page--has-advert--sidebar-sticky-1 design-page--has-advert--leaderboard design-page--has-advert--rectangle design-page--has-advert--sidebar-sticky-2 design-page--has-advert--megaboard">
<div class="parter-cpex-branding-wrapper design-advert-background-outer-element design-page__content" data-partner-cpex-branding-wrapper-z-index="0">
<div class=" js-sticker-init layout-main--has-sidebar--default layout-main--has-sidebar  layout-main main">
<div class="js-sticker-compare-wrapper layout-columns layout-main__content">
<div class="layout-columns__item--main layout-columns__item">
<div class="design-tile--version-1 design-tile">
<h1 class="detail__heading design-heading--level-1 design-heading">GenerovÃ¡nÃ­ kÃ³du v M4: Ãºvod</h1>
<div class="design-list--articles--article-detail  design-list--articles--opener design-list--articles design-list list-reset">
<div class="design-list__item">
<div class="design-article--opener--simple design-article--opener design-article--with-image design-article design-tile">
<span class=" element-print-hidden  design-article__image-outer">
<img class="design-image--responsive design-image design-article__image" src="../img/m4tux.png" width="670" height="377" alt=" ">
<span class="design-article__image-author">Autor: jkubin</span>
</span>
<div class="design-article__text">
<div class="design-article__perex">
<div class="design-article__perex-content">Makro procesor M4 se pouÅ¾Ã­vÃ¡ ke generovÃ¡nÃ­ libovolnÄ› sloÅ¾itÃ©ho kÃ³du z&nbsp;jednoduchÃ©ho zdrojovÃ©ho kÃ³du.
ÃšvodnÃ­ dÃ­l seriÃ¡lu obsahuje jeho historii, zÃ¡kladnÃ­ principy jazyka, pÅ™Ã­klady pouÅ¾itÃ­ a&nbsp;nutnÃ© pÅ™edpoklady pro jeho zvlÃ¡dnutÃ­.</div>
</div>
</div>
</div>
</div>
</div>
<div class="detail__article ">
<div class=" layout-article-content">
<div class="element-margin-top-half php-urs urs">
<div id="m4--toc"><h2>Obsah</h2><div><div class="m4-dwnl"><a href="../intro.mc" style="font-weight:bold" title="zdrojovÃ½ kÃ³d ÄlÃ¡nku">mc</a><a href="../generovani-kodu-v-m4-uvod/spell.txt" title="vygenerovanÃ½ text pro kontrolu pÅ™eklepÅ¯ a Å¾argonu (urÄeno pro Vim)">spl</a><a href="../generovani-kodu-v-m4-uvod.txt" title="vygenerovanÃ½ text pro odhad poÄtu znakÅ¯">txt</a><a href="../generovani-kodu-v-m4-uvod/publish.txt" title="vygenerovanÃ½ text, kterÃ½ prÃ¡vÄ› Ätete a kterÃ½ byl vloÅ¾en do redakÄnÃ­ho systÃ©mu (CMS)">pub</a><br><a href="../generovani-kodu-v-m4-uvod/index.html" title="vygenerovanÃ¡ html strÃ¡nka pro off-line vÃ½voj">dev</a><a href="../generovani-kodu-v-m4-uvod/preview.html" title="vygenerovanÃ¡ html strÃ¡nka pro off-line nÃ¡hled">pre</a><a href="../generovani-kodu-v-m4-uvod.c" title="vygenerovanÃ½ zdrojovÃ½ kÃ³d C">c</a></div><div class="m4-updt">aktualizovÃ¡no<br>19. ledna 2021</div></div></div>
<noscript><div title="pro informaci" class="rs-tip-major m4-info">Srozumitelnost ukÃ¡zek zdrojovÃ©ho kÃ³du zvyÅ¡uje povolenÃ½ JavaScript.</div></noscript>
<p id="m4-uvod-toc"><a href="#m4-uvod"><b>1</b>Ãšvod</a></p>
<p id="m4-priklady-pro-ctenare-toc" class="m4-l2"><a href="#m4-priklady-pro-ctenare"><b>1.1</b>PÅ™Ã­klady pro ÄtenÃ¡Å™e</a></p>
<p id="m4-historie-makro-jazyku-toc"><a href="#m4-historie-makro-jazyku"><b>2</b>Historie makro jazykÅ¯</a></p>
<p id="m4-zaklady-jazyka-m4-toc"><a href="#m4-zaklady-jazyka-m4"><b>3</b>ZÃ¡klady jazyka M4</a></p>
<p id="m4-bezkontextova-gramatika-toc" class="m4-l2"><a href="#m4-bezkontextova-gramatika"><b>3.1</b>BezkontextovÃ¡ gramatika</a></p>
<p id="m4-automaty-toc" class="m4-l2"><a href="#m4-automaty"><b>3.2</b>Automaty</a></p>
<p id="m4-vystupni-fronty-toc" class="m4-l2"><a href="#m4-vystupni-fronty"><b>3.3</b>VÃ½stupnÃ­ fronty</a></p>
<p id="m4-hlavni-pouziti-m4-toc"><a href="#m4-hlavni-pouziti-m4"><b>4</b>HlavnÃ­ pouÅ¾itÃ­ M4</a></p>
<p id="m4-generovani-kodu-toc" class="m4-l2"><a href="#m4-generovani-kodu"><b>4.1</b>GenerovÃ¡nÃ­ kÃ³du</a></p>
<p id="m4-preprocesor-toc" class="m4-l2"><a href="#m4-preprocesor"><b>4.2</b>Preprocesor</a></p>
<p id="m4-predpoklady-pro-zvladnuti-m4-toc"><a href="#m4-predpoklady-pro-zvladnuti-m4"><b>5</b>PÅ™edpoklady pro zvlÃ¡dnutÃ­ M4</a></p>
<p id="m4-zaklady-gramatik-toc" class="m4-l2"><a href="#m4-zaklady-gramatik"><b>5.1</b>ZÃ¡klady gramatik</a></p>
<p id="m4-zaklady-automatu-toc" class="m4-l2"><a href="#m4-zaklady-automatu"><b>5.2</b>ZÃ¡klady automatÅ¯</a></p>
<p id="m4-gnu-make-toc" class="m4-l2"><a href="#m4-gnu-make"><b>5.3</b>(GNU) make</a></p>
<p id="m4-vim-toc" class="m4-l2"><a href="#m4-vim"><b>5.4</b>Vim</a></p>
<p id="m4-talent-a-cas-toc" class="m4-l2"><a href="#m4-talent-a-cas"><b>5.5</b>Talent a Äas</a></p>
<p id="m4-links-toc"><a href="#m4-links"><b>6</b>Odkazy</a></p>
<hr>
<p id="m4-priklady-generovani-kodu-toc"><a href="#m4-priklady-generovani-kodu" title="PÅ™Ã­loha"><b>A</b>PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du</a></p>
<p id="m4-priklady-preprocesoru-toc"><a href="#m4-priklady-preprocesoru" title="PÅ™Ã­loha"><b>B</b>PÅ™Ã­klady preprocesoru</a></p>
<p id="m4-m4w-priklady-toc"><a href="#m4-m4w-priklady" title="PÅ™Ã­loha"><b>C</b>M4: pÅ™Ã­klady</a></p>
<p id="m4-proc-pouzivat-m4-a-proc-neq-toc"><a href="#m4-proc-pouzivat-m4-a-proc-neq" title="PÅ™Ã­loha"><b>D</b>ProÄ pouÅ¾Ã­vat M4 a&nbsp;proÄ ne?</a></p>
<!-- article content -->
<h2 id="m4-uvod" class="m4-ch"><a href="#m4-uvod-toc" title="Obsah"></a><a href="#m4-uvod" title="âš“">1</a>Ãšvod<a href="#m4--toc" title="Nahoru"></a></h2>
<p>ÄŒtenÃ¡Å™i tohoto seriÃ¡lu se nauÄÃ­ psÃ¡t skripty pro strojovÃ© generovÃ¡nÃ­ kÃ³du.
StrojovÄ› generovanÃ½ kÃ³d mÅ¯Å¾e bÃ½t libovolnÄ› sloÅ¾itÃ½ a&nbsp;mÅ¯Å¾e obsahovat dalÅ¡Ã­ vnitÅ™nÃ­ zÃ¡vislosti.
VzÃ¡jemnÄ› zÃ¡vislÃ© soubory se sloÅ¾itÃ½m kÃ³dem jsou pro ÄlovÄ›ka jen tÄ›Å¾ce udrÅ¾itelnÃ© v&nbsp;konzistentnÃ­m stavu.
Je uÅ¾ nutnÃ© pouÅ¾Ã­t nÄ›jakÃ½ mechanismus pro generovÃ¡nÃ­ kÃ³du.
GenerovÃ¡nÃ­ kÃ³du provÃ¡dÃ­ nÃ¡stroj urÄenÃ½ pro transformaci textu â€“ <b>makro procesor</b>.</p>
<p id="m4-what-is-the-series-about">SeriÃ¡l je zamÄ›Å™en na praktickÃ© pouÅ¾itÃ­ <b>univerzÃ¡lnÃ­ho makro procesoru M4</b> (dÃ¡le jen M4) pomocÃ­ malÃ½ch pÅ™Ã­kladÅ¯.
Popisuje takÃ© teoretickÃ½ zÃ¡klad vÅ¡ech implementacÃ­.
CÃ­lem seriÃ¡lu je seznÃ¡mit ÄtenÃ¡Å™e s&nbsp;tÃ­mto <span title="m4 â€“ je program pÅ™Ã­kazovÃ© Å™Ã¡dky" class="m4-xp">nÃ¡strojem</span> a&nbsp;takÃ© programovacÃ­m <span title="M4 â€“ je programovacÃ­ jazyk" class="m4-xp">jazykem</span>.
<a href="#m4-hlavni-pouziti-m4" title="HlavnÃ­ pouÅ¾itÃ­ M4">Na co se pouÅ¾Ã­vÃ¡</a>, jak se v&nbsp;nÄ›m programuje a&nbsp;jakÃ© jsou jeho <a href="#m4-proc-generovat-kod-v-m4" title="ğŸ‘ ProÄ generovat kÃ³d v M4">vÃ½hody</a> a&nbsp;<a href="#m4-proc-se-vyhnout-m4" title="ğŸ‘ ProÄ se vyhnout M4">nevÃ½hody</a>.</p>
<div title="poznÃ¡mka" class="rs-tip-major m4-note">VÃ­cejazyÄnÃ½ seriÃ¡l <q><b>GenerovÃ¡nÃ­ kÃ³du v M4</b></q> je generovÃ¡n M4 skripty<a href="http://github.com/jkubin/m4root" title="GenerovÃ¡nÃ­ kÃ³du v M4" id="m4-ref1">[1]</a>,
kterÃ© (moÅ¾nÃ¡) usnadnÃ­ psanÃ­ ÄlÃ¡nkÅ¯ a&nbsp;seriÃ¡lÅ¯ pro <a href="https://www.root.cz/" title="Root.cz â€“ informace nejen ze svÄ›ta Linuxu">www.root.cz</a> takÃ© jinÃ½m autorÅ¯m.
VÃ½sledkem seriÃ¡lu je takÃ© sada ukÃ¡zkovÃ½ch skriptÅ¯ pro generovÃ¡nÃ­ kÃ³du.</div>
<p>ÃšvodnÃ­ dÃ­l popisuje zÃ¡kladnÃ­ principy jazyka na jednoduchÃ½ch pÅ™Ã­kladech.
VÅ¡echny pÅ™Ã­klady pouÅ¾Ã­vajÃ­ pÅ™episovacÃ­ pravidla <a href="#m4-bezkontextova-gramatika" title="BezkontextovÃ¡ gramatika">bezkontextovÃ© gramatiky</a>.
PozdÄ›ji se nauÄÃ­me pouÅ¾Ã­vat <a href="#m4-vystupni-fronty" title="VÃ½stupnÃ­ fronty">vÃ½stupnÃ­ fronty</a>,
<a href="#m4-automaty" title="Automaty">automaty</a>, asociativnÃ­ pamÄ›ti, zÃ¡sobnÃ­ky a&nbsp;zÃ¡sobnÃ­kovÃ© automaty.
NauÄÃ­me se takÃ© psÃ¡t <a href="#m4-testovaci-automat" title="TestovacÃ­ automat">testovacÃ­ automaty</a> pro testovÃ¡nÃ­ vstupnÃ­ch dat.</p>
<h3 id="m4-priklady-pro-ctenare" class="m4-ch"><a href="#m4-priklady-pro-ctenare-toc" title="Obsah"></a><a href="#m4-priklady-pro-ctenare" title="âš“">1.1</a>PÅ™Ã­klady pro ÄtenÃ¡Å™e<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klady pro ÄtenÃ¡Å™e tvoÅ™Ã­ komplementÃ¡rnÃ­ ÄÃ¡st seriÃ¡lu a&nbsp;budou do jistÃ© mÃ­ry vytvÃ¡Å™eny na zÃ¡kladÄ› podnÄ›tÅ¯ v&nbsp;diskuzi pod ÄlÃ¡nkem.
Na zaÄÃ¡tku kaÅ¾dÃ©ho dÃ­lu je popsÃ¡na nÄ›jakÃ¡ ÄÃ¡st jazyka M4 doplnÄ›nÃ¡ sadou pÅ™Ã­kladÅ¯ na konci.
KaÅ¾dÃ½ dÃ­l je moÅ¾nÃ© ÄÃ­st v&nbsp;libovolnÃ©m poÅ™adÃ­.</p>
<ul>
<li><a href="#m4-priklady-generovani-kodu" title="PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du">PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du</a></li>
<li><a href="#m4-priklady-preprocesoru" title="PÅ™Ã­klady preprocesoru">PÅ™Ã­klady preprocesoru</a></li>
<li><a href="#m4-m4w-priklady" title="M4: pÅ™Ã­klady">M4: pÅ™Ã­klady</a></li>
<li><a href="#m4-proc-pouzivat-m4-a-proc-neq" title="ProÄ pouÅ¾Ã­vat M4 a proÄ ne?">ProÄ pouÅ¾Ã­vat M4 a&nbsp;proÄ ne?</a></li>
<li><a href="http://github.com/jkubin/m4root" title="GenerovÃ¡nÃ­ kÃ³du v M4">http://github.com/jkubin/m4root</a> â€“ projekt generujÃ­cÃ­ tento seriÃ¡l</li>
</ul>
<h2 id="m4-historie-makro-jazyku" class="m4-ch"><a href="#m4-historie-makro-jazyku-toc" title="Obsah"></a><a href="#m4-historie-makro-jazyku" title="âš“">2</a>Historie makro jazykÅ¯<a href="#m4--toc" title="Nahoru"></a></h2>
<p>Makro jazyky byly vynalezeny v&nbsp;dobÄ›, kdy dominoval jazyk symbolickÃ½ch adres â€“ <abbr title="Jazyk SymbolickÃ½ch Adres â€“ assembler">JSA</abbr>.
ZdrojovÃ½ kÃ³d JSA velmi Äasto obsahuje shodnÃ© sekvence instrukcÃ­ odliÅ¡ujÃ­cÃ­ se pouze hodnotami operandÅ¯.
ShodnÃ© sekvence instrukcÃ­ je moÅ¾nÃ© seskupit do jednoho slova, nebo-li <b>makro instrukce</b>.
JmÃ©no obvykle popisuje ÃºÄel skrytÃ© sekvence instrukcÃ­.
Makro instrukce se pÅ™eloÅ¾Ã­ makro procesorem na pÅ¯vodnÃ­ sekvenci instrukcÃ­, kterÃ¡ se poslÃ©ze pÅ™eloÅ¾Ã­ do spustitelnÃ©ho strojovÃ©ho kÃ³du.
ProgramovÃ¡nÃ­ v&nbsp;JSA pomocÃ­ makro instrukcÃ­ je jednoduÅ¡Å¡Ã­, rychlejÅ¡Ã­ a&nbsp;mÃ©nÄ› nÃ¡chylnÃ© k&nbsp;lidskÃ½m chybÃ¡m.</p>
<p>PozdÄ›ji byly makro jazyky pouÅ¾ity k&nbsp;rozÅ¡Ã­Å™enÃ­ kompilovanÃ½ch programovacÃ­ch jazykÅ¯, protoÅ¾e umoÅ¾nily psÃ¡t zdrojovÃ½ kÃ³d na vyÅ¡Å¡Ã­ Ãºrovni abstrakce neÅ¾ jakou poskytuje samotnÃ½ programovacÃ­ jazyk.
Rychlost, vÃ½konnost a efektivita sloÅ¾itÃ©ho programovacÃ­ho jazyka niÅ¾Å¡Ã­ ÃºrovnÄ› je zachovÃ¡na dÃ­ky makro jazykÅ¯m.
AvÅ¡ak je dÅ¯leÅ¾itÃ© dobÅ™e rozumÄ›t vÅ¡em vrstvÃ¡m kÃ³du.</p>
<h3 id="m4-gpm-general-purpose-macro-gen" class="m4-bh"><a href="#m4-gpm-general-purpose-macro-gen" title="âš“"></a>GPM (General Purpose Macro-generator)<a href="#m4--toc" title="Nahoru"></a></h3>
<p>ZÃ¡kladnÃ­ myÅ¡lenku pÅ™episovÃ¡nÃ­ textovÃ½ch Å™etÄ›zcÅ¯ s&nbsp;argumenty, kterÃ© se pÅ™epÃ­Å¡Ã­ do dalÅ¡Ã­ch rekurzivnÄ› pÅ™episovatelnÃ½ch Å™etÄ›zcÅ¯, pÅ™edstavil
<a href="https://en.wikipedia.org/wiki/Christopher_Strachey" title="Wikipedie"><span class="rs-person">Christopher Strachey</span></a> ve svÃ©m
<abbr title="General Purpose Macro-generator">GPM</abbr><a href="http://dx.doi.org/10.1093/comjnl/8.3.225" title="A&nbsp;General Purpose Macro-generator" id="m4-ref2">[2]</a> v&nbsp;roce 1965.
DalÅ¡Ã­ generace makro procesorÅ¯ M3 a&nbsp;M4 pÅ¯vodnÃ­ <abbr title="General Purpose Macro-generator">GPM</abbr> v&nbsp;podstatÄ› uÅ¾ jen rozÅ¡iÅ™ovaly.
ZÃ¡kladnÃ­ myÅ¡lenka pÅ¯vodnÃ­ho nÃ¡vrhu ale zÅ¯stala stejnÃ¡.</p>
<h3 id="m4-m3" class="m4-bh"><a href="#m4-m3" title="âš“"></a>M3<a href="#m4--toc" title="Nahoru"></a></h3>
<p><a href="https://cs.wikipedia.org/wiki/Dennis_Ritchie" title="Wikipedie"><span class="rs-person">Dennis Ritchie</span></a> pÅ™evzal zÃ¡kladnÃ­ myÅ¡lenku <abbr title="General Purpose Macro-generator">GPM</abbr> a&nbsp;napsal vylepÅ¡enÃ½ makro procesor pro generovÃ¡nÃ­ zdrojovÃ©ho kÃ³du programovacÃ­ho jazyka C (1972), kterÃ½ sÃ¡m navrhl.
NovÃ½ <b>m</b>akro procesor napsal pro minipoÄÃ­taÄ AP-<b>3</b>, odtud jmÃ©no <b>M3</b>.
Tento pÅ™Ã­mÃ½ pÅ™edchÅ¯dce souÄasnÃ©ho M4 dokÃ¡zal vÃ½raznÄ› uÅ¡etÅ™it tÄ›Å¾kou a&nbsp;ÄasovÄ› nÃ¡roÄnou prÃ¡ci, ÄÃ­mÅ¾ zaujal vÃ½vojÃ¡Å™e programujÃ­cÃ­ v&nbsp;jinÃ½ch jazycÃ­ch (<abbr title="FORmula TRANslation">FORTRAN</abbr>, <abbr title="COmmon Business-Oriented Language">COBOL</abbr>, <abbr title="Programming Language One">PL/I</abbr>, â€¦).
VÃ½vojÃ¡Å™i upravovali M3 pro tyto jazyky ÄÃ­mÅ¾ ho promÄ›nili na univerzÃ¡lnÄ› pouÅ¾itelnÃ½ makro procesor M4.</p>
<div title="m4 âˆˆ {mnoÅ¾ina nÃ¡strojÅ¯ UNIX-u}" class="rs-tip-major m4-note"><span class="rs-person">Dennis Ritchie</span> byl takÃ© spolutvÅ¯rcem operaÄnÃ­ho systÃ©mu UNIX a&nbsp;proto:<ul>
<li>M4 je minimalistickÃ½ a&nbsp;rychlÃ½, <a href="https://cs.wikipedia.org/wiki/Filosofie_Unixu" title="Filosofie UNIX-u
Wikipedie">dÄ›lÃ¡ jednu vÄ›c a&nbsp;tu dÄ›lÃ¡ dobÅ™e</a></li>
<li>vÃ½hradnÄ› spolÃ©hÃ¡ na neinteraktivnÃ­ rozhranÃ­ pÅ™Ã­kazovÃ© Å™Ã¡dky</li>
<li>parametry a&nbsp;zÃ¡vislosti M4 skriptÅ¯ popisuje <code>Makefile</code></li>
<li>znakem <code>#</code> zaÄÃ­nÃ¡ jednoÅ™Ã¡dkovÃ½ komentÃ¡Å™ jako v&nbsp;UNIX-ovÃ©m shell-u</li>
<li>promÄ›nnÃ© <code>$@</code>, <code>$*</code>, <code>$#</code>, <code>$0</code>, <code>$1</code>, <code>$2</code>, <code>$3</code>, â€¦ majÃ­ podobnÃ½ vÃ½znam jako v&nbsp;shell-u</li>
<li>oddÄ›lovaÄ argumentÅ¯ je ÄÃ¡rka</li>
</ul>
</div>
<p>Makro procesor M3 rozÅ¡Ã­Å™il takÃ© <span class="rs-person">Jim E. Weythman</span>, autor programovÃ© konstrukce, kterÃ¡ se pouÅ¾Ã­vÃ¡ tÃ©mÄ›Å™ v&nbsp;kaÅ¾dÃ©m M4 skriptu:</p>
<div id="m4-common-code" class="m4-src"><pre>divert(-1)
â€¦
define(â€¦)
â€¦
divert(0)dnl
â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-common-code" title="âš“"></a></code></div>
<div title="poznÃ¡mka" class="rs-tip-major m4-note">KlÃ­ÄovÃ© slovo <code title="divert(-1), divert(0), divert(1), â€¦, divert(2147483647)" class="m4-hgl" data-0="1,5">divert(<a href="https://cs.wikipedia.org/wiki/Cel%C3%A9_%C4%8D%C3%ADslo" title="celÃ© ÄÃ­slo">â„¤</a>)</code> pÅ™epÃ­nÃ¡ vÃ½stupnÃ­ fronty.
Argument <code>-1</code> zcela vypne jakÃ½koliv textovÃ½ vÃ½stup.
Argument <code>0</code> pÅ™epne vÃ½stup na <code>stdout</code> (standardnÃ­ vÃ½stup).</div>
<h3 id="m4-m4" class="m4-bh"><a href="#m4-m4" title="âš“"></a>M4<a href="#m4--toc" title="Nahoru"></a></h3>
<p><a href="https://cs.wikipedia.org/wiki/Brian_Kernighan" title="Wikipedie"><span class="rs-person">Brian Kernighan</span></a> makro procesor M3 rozÅ¡Ã­Å™il na <a href="https://cs.wikipedia.org/wiki/Preprocesor" title="Wikipedie">preprocesor</a> jazyka FORTRAN 66,
aby mohl vytvoÅ™it hybridnÃ­ jazykovou nadstavbu pojmenovanou <abbr title="RATional FORtran"><b>RATFOR</b></abbr><a href="https://wolfram.schneider.org/bsd/7thEdManVol2/ratfor/ratfor.pdf" title="RATFOR â€” A Preprocessor for a Rational Fortran" id="m4-ref3">[3]</a>.
ZÃ¡kladnÃ­ programovÃ© konstrukce tÃ©to nadstavby (podmÃ­nky, cykly) jsou stejnÃ© jako v&nbsp;jazyce C.
ProgramovÃ¡nÃ­ v&nbsp;RATFOR-u se tak podobÃ¡ programovÃ¡nÃ­ v&nbsp;<q>cÃ©Äku</q>.
Makro procesor zdrojovÃ½ kÃ³d pÅ™eklÃ¡dÃ¡ zpÃ¡tky do FORTRAN-u, potÃ© kompilÃ¡tor provede pÅ™eklad do strojovÃ©ho kÃ³du.</p>
<div title="jazyk M4 doplÅˆuje jazyk C" class="rs-tip-major m4-note">VÅ¡imnÄ›te si <a href="#m4-ba-preprocesor-jazyka-c-a-m4" title="`' Preprocesor jazyka C a M4">tÃ©mÄ›Å™ dokonalÃ© symbiÃ³zy</a> s&nbsp;jazykem&nbsp;C<ul>
<li>direktivy <abbr title="Preprocesor jazyka C">CPP</abbr> <code>#define</code>, <code>#include</code>, <code>#ifdef</code>, â€¦ jsou pro M4 komentÃ¡Å™e</li>
<li>klÃ­ÄovÃ¡ slova oddÄ›lenÃ¡ od zÃ¡vorek mezerou, ztrÃ¡cÃ­ svÅ¯j pÅ¯vodnÃ­ vÃ½znam
<ul><li>M4 napÅ™Ã­klad ignoruje funkci <code>void define (char c, int i) {â€¦}</code></li></ul></li>
<li>argumenty maker oddÄ›lujÃ­ ÄÃ¡rky stejnÄ› jako argumenty funkcÃ­ jazyka&nbsp;C
<ul><li>je-li definovÃ¡no makro <code>FUNC(char c, int i)</code>, jeho promÄ›nnÃ© jsou:
<code>$# â†’ 2</code>, <code>$0 â†’ FUNC</code>, <code>$1 â†’ char c</code>, <code>$2 â†’ int i</code></li></ul></li>
<li><b>levÃ½</b> <a href="#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­dÃ­cÃ­ znak</a> <code>`</code> nenÃ­ souÄÃ¡stÃ­ syntaxe rodiny jazykÅ¯&nbsp;C</li>
<li><b>pravÃ½</b> Å™Ã­dÃ­cÃ­ znak <code>'</code> nevadÃ­, nenÃ­-li souÄÃ¡stÃ­ makra
<ul><li>oba Å™Ã­dÃ­cÃ­ znaky lze skrÃ½t do uÅ¾ivatelskÃ½ch maker <code>LL()</code>, <code>RR()</code></li></ul></li>
<li>makra se pÃ­Å¡Ã­ <code>VELKYMI_PISMENY</code>, stejnÄ› jako <a href="https://cs.wikipedia.org/wiki/Termin%C3%A1ln%C3%AD_a_netermin%C3%A1ln%C3%AD_symbol" title="Wikipedie">neterminÃ¡lnÃ­ symboly</a>
<ul><li>tÃ­m je vymezen jejich jmennÃ½ prostor</li></ul></li>
</ul>
</div>
<p>UÅ¾ivatelskÃ½ manuÃ¡l<a href="https://wolfram.schneider.org/bsd/7thEdManVol2/m4/m4.pdf" title="The M4 Macro Processor" id="m4-ref4">[4]</a> zmiÅˆuje jeÅ¡tÄ› dalÅ¡Ã­, zde neuvedenÃ© spoluautory.
Bylo by tedy znaÄnÄ› nespravedlivÃ© napsat, Å¾e autory makro procesoru M4 (1977) jsou <i>pouze</i> dva lidÃ©.</p>
<img src="../img/authors.jpg" alt="&nbsp;" width="960" height="400" id="m4-the-authors" title="Christopher Strachey, Dennis Ritchie, Brian Kernighan">
<p><em>ObrÃ¡zek <a href="#m4-the-authors" title="âš“">1</a>: Christopher Strachey<a href="https://www.computerhope.com/people/christopher_strachey.htm" title="Christopher Strachey" id="m4-ref5">[5]</a>,
Dennis Ritchie<a href="https://pc.zoznam.sk/novinka/zomrel-tvorca-unixu-jazyka-c" title="Dennis Ritchie" id="m4-ref6">[6]</a>,
Brian Kernighan<a href="https://www.cs.cmu.edu/~mihaib/kernighan-interview/" title="Brian Kernighan" id="m4-ref7">[7]</a></em></p>
<h3 id="m4-gnu-m4" class="m4-bh"><a href="#m4-gnu-m4" title="âš“"></a>GNU M4<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Dnes existuje nÄ›kolik implementacÃ­ liÅ¡Ã­cÃ­ se od pÅ¯vodnÃ­ implementace spÃ­Å¡e drobnostmi.
NejrozÅ¡Ã­Å™enÄ›jÅ¡Ã­ implementace M4 je <b>GNU M4</b> pouÅ¾Ã­vanÃ¡ pro <a href="https://en.wikipedia.org/wiki/GNU_Build_System" title="Wikipedie">Autotools</a>
a&nbsp;pro pÅ™eklad jednoduchÃ©ho konfiguraÄnÃ­ho souboru <code>sendmail.mc</code> na sloÅ¾itÃ½ <code>sendmail.cf</code>.
Autorem tÃ©to implementace z&nbsp;roku 1990 je <a href="https://www.seindal.dk/rene/gnu/"><span class="rs-person">RenÃ©&nbsp;Seindal</span></a>.
NÃ¡sledujÃ­cÃ­ pÅ™Ã­kaz nainstaluje <span title="s malÃ½m â€mâ€œ" class="m4-xp">m4</span>:</p>
<div id="m4-install" title="pÅ™Ã­kaz nainstaluje takÃ© dalÅ¡Ã­ dÅ¯leÅ¾itÃ© balÃ­Äky" class="m4-cmd m4-root"><pre>dnf -y install make m4 pinfo</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-install" title="âš“"></a></code></div>
<p>PodrobnÃ½ popis klÃ­ÄovÃ½ch slov se nachÃ¡zÃ­ v&nbsp;dokumentaci<a href="https://www.gnu.org/software/m4/manual/" title="GNU M4 - GNU macro processor" id="m4-ref8">[8]</a>:</p>
<div id="m4-anch-4" class="m4-src"><pre>$ <b>pinfo m4</b>
$ <b>man m4</b>
$ <b>m4 --help</b></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-4" title="âš“"></a></code></div>
<h2 id="m4-zaklady-jazyka-m4" class="m4-ch"><a href="#m4-zaklady-jazyka-m4-toc" title="Obsah"></a><a href="#m4-zaklady-jazyka-m4" title="âš“">3</a>ZÃ¡klady jazyka M4<a href="#m4--toc" title="Nahoru"></a></h2>
<p>ZÃ¡kladem jazyka M4 je <b>bezkontextovÃ¡ gramatika</b>, <b>automaty</b>, <b>zÃ¡sobnÃ­ky</b> a&nbsp;<b>vÃ½stupnÃ­ fronty</b>.
Pro pochopenÃ­ jazyka M4 je proto velmi dÅ¯leÅ¾itÃ© rozumÄ›t zÃ¡kladnÃ­m pojmÅ¯m teorie formÃ¡lnÃ­ch jazykÅ¯ â€“
co jsou <a href="https://cs.wikipedia.org/wiki/Termin%C3%A1ln%C3%AD_a_netermin%C3%A1ln%C3%AD_symbol" title="Wikipedie">terminÃ¡lnÃ­ symboly</a> (struÄnÄ› <b>terminÃ¡ly</b>) a&nbsp;neterminÃ¡lnÃ­ symboly (struÄnÄ› <b>neterminÃ¡ly</b>).
ZmÃ­nÄ›nÃ© pojmy si podrobnÄ›ji vysvÄ›tlÃ­me nÄ›kdy pozdÄ›ji.
CÃ­lem tohoto ÃºvodnÃ­ho dÃ­lu je hlavnÄ› ukÃ¡zat praktickÃ© pouÅ¾itÃ­ M4 na pÅ™Ã­kladech.</p>
<h3 id="m4-bezkontextova-gramatika" class="m4-ch"><a href="#m4-bezkontextova-gramatika-toc" title="Obsah"></a><a href="#m4-bezkontextova-gramatika" title="âš“">3.1</a>BezkontextovÃ¡ gramatika<a href="#m4--toc" title="Nahoru"></a></h3>
<p>BezkontextovÃ¡ gramatika (krÃ¡tce <abbr title="Context-Free Grammar â€“ bezkontextovÃ¡ gramatika">CFG</abbr>) je <a href="#m4-formalni-gramatika-chomskeho" title="FormÃ¡lnÃ­ gramatika (ChomskÃ©ho typu)">formÃ¡lnÃ­ gramatika</a>, ve kterÃ© majÃ­ vÅ¡echna pÅ™episovacÃ­ pravidla tvar <code class="m4-hgl" data-2="1" data-3="2">A â†’ Î²</code>.
NeterminÃ¡l <code class="m4-hgl" data-2="D">A</code> se <span class="m4-hgl" data-2="E">pÅ™epÃ­Å¡e</span> na libovolnÄ› dlouhÃ½ Å™etÄ›zec <abbr title="pravÃ¡ strana pÅ™episovacÃ­ho pravidla"><code class="m4-hgl" data-2="F">Î²</code></abbr> sloÅ¾enÃ½ z&nbsp;<span class="m4-hgl" data-2="B">neterminÃ¡lÅ¯ <code>N</code></span> <span class="m4-hgl" data-2="G">nebo</span> <span class="m4-hgl" data-2="A">terminÃ¡lÅ¯ <code>Î£</code></span>.
<span class="m4-hgl" data-2="C"><a href="https://en.wikipedia.org/wiki/Kleene_star" title="Wikipedie">Kleeneho hvÄ›zda</a></span> znamenÃ¡, Å¾e se neterminÃ¡l <code class="m4-hgl" data-2="D" data-3="D">A</code> mÅ¯Å¾e pÅ™epsat na <abbr title="epsilon â€“ prÃ¡zdnÃ½ symbol"><code>Îµ</code></abbr> (pÅ™episovacÃ­ pravidlo <code class="m4-hgl" data-3="5,6">A â†’ Îµ</code>).</p>
<div id="m4-all-context-free-grammar-rules" title="pÅ™episovacÃ­ pravidla bezkontextovÃ© gramatiky" class="m4-src"><pre>P: <span class="m4-d">A</span> <span class="m4-e">â†’</span> <span class="m4-f">Î²</span>
   <span class="m4-d">A</span> âˆˆ <span class="m4-b">N</span>
   <span class="m4-f">Î²</span> âˆˆ (<span class="m4-b">N</span> <span class="m4-g">âˆª</span> <span class="m4-a">Î£</span>)<span class="m4-c">*</span></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-all-context-free-grammar-rules" title="âš“"></a></code></div>
<h4 id="m4-prepisovaci-pravidla-m4" class="m4-bh"><a href="#m4-prepisovaci-pravidla-m4" title="âš“"></a>PÅ™episovacÃ­ pravidla M4<a href="#m4--toc" title="Nahoru"></a></h4>
<p>PÅ™episovacÃ­ pravidla M4 <span class="m4-hgl" data-2="1" data-3="2">jsou stejnÃ¡</span> jako pÅ™episovacÃ­ pravidla bezkontextovÃ© gramatiky.</p>
<div id="m4-rewriting-rules" title="pÅ™episovacÃ­ pravidla M4" class="m4-src"><pre># A â†’ Î²
define(`<span class="m4-d">A</span>', `<span class="m4-f">Î²</span>')

# A â†’ Îµ
define(`<span class="m4-d">A</span>')
define(`<span class="m4-d">A</span>', `')</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-rewriting-rules" title="âš“"></a></code></div>
<p>VÅ¡echna klÃ­ÄovÃ¡ slova M4 jsou neterminÃ¡ly (makra), provedou nÄ›jakou akci a&nbsp;pÅ™epÃ­Å¡Ã­ se na <abbr title="epsilon â€“ prÃ¡zdnÃ½ symbol"><code>Îµ</code></abbr> nebo jinÃ½ symbol.
VÅ¡echna klÃ­ÄovÃ¡ slova lze pÅ™ejmenovat nebo ÃºplnÄ› vypnout.
Tato vlastnost je velmi dÅ¯leÅ¾itÃ¡ pro reÅ¾im preprocesoru.</p>
<div id="m4-keywords-are-nonterminals" title="klÃ­ÄovÃ¡ slova M4 jsou neterminÃ¡ly" class="m4-src"><pre>divert(â„¤) â†’ Îµ
define(`A', `Î²') â†’ Îµ
ifelse(`', `', `yes', `no') â†’ yes
ifelse(`', `', `ifdef(`dnl', `1', `0')', `no') â†’ ifdef(`dnl', `1', `0') â†’ 1
â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-keywords-are-nonterminals" title="âš“"></a></code></div>
<h4 id="m4-rizeni-expanze-neterminalu" class="m4-bh"><a href="#m4-rizeni-expanze-neterminalu" title="âš“"></a>Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯<a href="#m4--toc" title="Nahoru"></a></h4>
<p>VÃ½chozÃ­ dvojice znakÅ¯ <code>`'</code> v&nbsp;M4 Å™Ã­dÃ­ expanzi neterminÃ¡lÅ¯.
KlÃ­ÄovÃ© slovo <code>changequote()</code> je mÅ¯Å¾e zmÄ›nit na jinÃ© znaky, napÅ™Ã­klad {<code title="hranatÃ© zÃ¡vorky" class="m4-xp">[]</code>, <code title="netisknutelnÃ© znaky" class="m4-xp">â‚â†</code>, <code title="UTF-8 znaky" class="m4-xp">âŸ¦âŸ§</code>}.
NeterminÃ¡ly, kterÃ© nechceme (ihned) expandovat, jsou obklopeny touto dvojicÃ­ znakÅ¯.
PÅ™i prÅ¯chodu makro procesorem jsou vÅ¡echny symboly mezi touto dvojicÃ­ znakÅ¯ <b>terminÃ¡lnÃ­mi symboly</b> a&nbsp;vnÄ›jÅ¡Ã­ dvojice znakÅ¯ je odstranÄ›na.
DalÅ¡Ã­ prÅ¯chod jiÅ¾ zpÅ¯sobÃ­ expanzi pÅ¯vodnÄ› chrÃ¡nÄ›nÃ½ch neterminÃ¡lÅ¯.
Dvojice Å™Ã­dÃ­cÃ­ch znakÅ¯ se nastavuje na zaÄÃ¡tku koÅ™enovÃ©ho souboru.</p>
<h3 id="m4-automaty" class="m4-ch"><a href="#m4-automaty-toc" title="Obsah"></a><a href="#m4-automaty" title="âš“">3.2</a>Automaty<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Automaty slouÅ¾Ã­ jako <q>pÅ™epÃ­naÄe</q> pravidel gramatiky.
PouÅ¾Ã­vajÃ­ pÅ™episovacÃ­ pravidla gramatiky jako uzly a&nbsp;mÄ›nÃ­ svÃ© stavy podle vstupnÃ­ch symbolÅ¯.
AktuÃ¡lnÄ› pouÅ¾Ã­vanÃ© pÅ™episovacÃ­ pravidlo produkuje do vÃ½stupnÃ­ fronty (nebo do nÄ›kolika vÃ½stupnÃ­ch front)
specifickÃ½ kÃ³d, dokud automat nepÅ™ejde do jinÃ©ho uzlu s&nbsp;jinÃ½m pÅ™episovacÃ­m pravidlem.
PÅ™Ã­klady <a href="#m4-jsonw-generujici-automat" title="âŸ¦âŸ§ JSON: generujÃ­cÃ­ automat">generujÃ­cÃ­ch automatÅ¯</a> jsou ukÃ¡zÃ¡ny v&nbsp;pÅ™Ã­loze.</p>
<h3 id="m4-vystupni-fronty" class="m4-ch"><a href="#m4-vystupni-fronty-toc" title="Obsah"></a><a href="#m4-vystupni-fronty" title="âš“">3.3</a>VÃ½stupnÃ­ fronty<a href="#m4--toc" title="Nahoru"></a></h3>
<p>VÃ½stupnÃ­ fronty jsou doÄasnÃ© ÃºloÅ¾iÅ¡tÄ› pro ÄÃ¡sti vÃ½slednÃ©ho kÃ³du.
Tyto ÄÃ¡sti vÃ½slednÃ©ho kÃ³du jsou produkovÃ¡ny pÅ™episovacÃ­mi pravidly gramatiky, kterÃ© pÅ™episujÃ­ vstupnÃ­ symboly.
KlÃ­ÄovÃ© slovo <code>divert(â„¤)</code> nastavuje aktuÃ¡lnÃ­ vÃ½stupnÃ­ frontu.
Na zÃ¡vÄ›r jsou vÅ¡echny neprÃ¡zdnÃ© fronty vypsÃ¡ny ve vzestupnÃ©m poÅ™adÃ­ na standardnÃ­ vÃ½stup a&nbsp;sloÅ¾Ã­ vÃ½slednÃ½ kÃ³d z&nbsp;ÄÃ¡stÃ­ kÃ³du.
<a href="#m4-htmlw-vystupni-fronty" title="âŸ¦âŸ§ HTML: vÃ½stupnÃ­ fronty">VÃ½stupnÃ­ fronty</a> jsou ukÃ¡zÃ¡ny v&nbsp;pÅ™Ã­loze.</p>
<div title="pro informaci" class="rs-tip-major m4-info"><b>ZÃ¡sobnÃ­ky</b> si ukÃ¡Å¾eme pozdÄ›ji.</div>
<h2 id="m4-hlavni-pouziti-m4" class="m4-ch"><a href="#m4-hlavni-pouziti-m4-toc" title="Obsah"></a><a href="#m4-hlavni-pouziti-m4" title="âš“">4</a>HlavnÃ­ pouÅ¾itÃ­ M4<a href="#m4--toc" title="Nahoru"></a></h2>
<p>M4 se pouÅ¾Ã­vÃ¡ ke generovÃ¡nÃ­ zdrojovÃ©ho kÃ³du libovolnÃ©ho programovacÃ­ho jazyka nebo jako preprocesor jakÃ©hokoliv zdrojovÃ©ho kÃ³du.</p>
<h3 id="m4-generovani-kodu" class="m4-ch"><a href="#m4-generovani-kodu-toc" title="Obsah"></a><a href="#m4-generovani-kodu" title="âš“">4.1</a>GenerovÃ¡nÃ­ kÃ³du<a href="#m4--toc" title="Nahoru"></a></h3>
<p>M4 transformuje vstupnÃ­ data ze souborÅ¯ <abbr title="Macro Configuration"><code>.mc</code></abbr> na vÃ½slednÃ¡ data nÃ¡sledujÃ­cÃ­m pÅ™Ã­kazem:</p>
<div id="m4-files-on-command-line" title="â† nejobecnÄ›jÅ¡Ã­.m4 â€¦ nejspeciÃ¡lnÄ›jÅ¡Ã­.m4 â†’" class="m4-cmd m4-usc"><pre>m4 root.m4 stem.m4 branch.m4 leaf.m4 input1.mc input2.mc > output.file</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-files-on-command-line" title="âš“"></a></code></div>
<p>BÄ›hem naÄÃ­tÃ¡nÃ­ souborÅ¯ jsou provÃ¡dÄ›ny dvÄ› zÃ¡kladnÃ­ operace:</p>
<ol>
<li>ÄtenÃ­ transformaÄnÃ­ch pravidel ze souborÅ¯ s&nbsp;pÅ™Ã­ponou <code>.m4</code></li>
<li>expanze maker uvnitÅ™ souborÅ¯ s&nbsp;pÅ™Ã­ponou <code>.mc</code></li>
</ol>
<p>Soubory <code>input1.mc</code> a&nbsp;<code>input2.mc</code> obsahujÃ­ <b>vstupnÃ­ data</b> ve specifickÃ©m formÃ¡tu, kterÃ½ umoÅ¾Åˆuje jejich transformaci na <b>vÃ½stupnÃ­ data</b> podle pravidel v&nbsp;pÅ™edchozÃ­ch <code>.m4</code> souborech.
DatovÃ© soubory <code>.mc</code> obvykle neobsahujÃ­ Å¾Ã¡dnÃ¡ transformaÄnÃ­ pravidla.</p>
<p>VstupnÃ­ data mohou takÃ© pÅ™ichÃ¡zet z&nbsp;kolony:</p>
<div id="m4-anch-9" title="vstupnÃ­ kÃ³d â†’ generovÃ¡nÃ­ zdrojovÃ©ho kÃ³du â†’ soubor" class="m4-cmd m4-usc"><pre>cat input.mc | m4 root.m4 stem.m4 branch.m4 leaf.m4 - > output.file</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-9" title="âš“"></a></code></div>
<div id="m4-anch-10" title="vstupnÃ­ kÃ³d â†’ generovÃ¡nÃ­ zdrojovÃ©ho kÃ³du â†’ program" class="m4-cmd m4-usc"><pre>cat input.mc | m4 root.m4 stem.m4 branch.m4 leaf.m4 - | gcc -x c -o progr -</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-10" title="âš“"></a></code></div>
<p>VyzkouÅ¡ejte: <a href="#m4-priklady-generovani-kodu" title="PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du">PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du</a></p>
<h3 id="m4-preprocesor" class="m4-ch"><a href="#m4-preprocesor-toc" title="Obsah"></a><a href="#m4-preprocesor" title="âš“">4.2</a>Preprocesor<a href="#m4--toc" title="Nahoru"></a></h3>
<p>M4 mÅ¯Å¾e pracovat v&nbsp;reÅ¾imu preprocesoru a mÅ¯Å¾e bÃ½t takÃ© souÄÃ¡stÃ­ kolony.
VstupnÃ­ zdrojovÃ½ kÃ³d jÃ­m prochÃ¡zÃ­ beze zmÄ›ny s&nbsp;vÃ½jimkou neterminÃ¡lnÃ­ch symbolÅ¯.
NalezenÃ© neterminÃ¡ly jsou expandovÃ¡ny na terminÃ¡ly a&nbsp;odchÃ¡zÃ­ spolu se zdrojovÃ½m kÃ³dem na vÃ½stup.
M4 mÅ¯Å¾e rozÅ¡Ã­Å™it jakÃ½koliv jinÃ½ jazyk, kde je preprocesor nedostateÄnÃ½ (bez rekurze) nebo Å¾Ã¡dnÃ½.
DÅ¯leÅ¾itÃ© je zvolit vhodnÃ½ levÃ½ znak pro Å™Ã­zenÃ­ expanze neterminÃ¡lÅ¯, kterÃ½ nesmÃ­ kolidovat se znakem vstupnÃ­ho zdrojovÃ©ho kÃ³du.
Kolize znaku je ale snadno Å™eÅ¡itelnÃ¡ regulÃ¡rnÃ­m vÃ½razem.</p>
<div id="m4-anch-11" title="M4 jako preprocesor â€“ obecnÄ›" class="m4-cmd m4-usc"><pre>m4 root.m4 stem.m4 branch.m4 leaf.m4 file.c > preproc.file.c</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-11" title="âš“"></a></code></div>
<div id="m4-anch-12" title="M4 jako preprocesor â€“ bez doÄasnÃ©ho souboru" class="m4-cmd m4-usc"><pre>m4 root.m4 stem.m4 branch.m4 leaf.m4 file.c | gcc -x c -o progr -</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-12" title="âš“"></a></code></div>
<h4 id="m4-ba-vychozi-znaky" class="m4-bh"><a href="#m4-ba-vychozi-znaky" title="âš“"></a><code>`'</code> VÃ½chozÃ­ znaky<a href="#m4--toc" title="Nahoru"></a></h4>
<p>KonfliktnÃ­ znak <code>`</code> ze vstupnÃ­ho zdrojovÃ©ho kÃ³du je skryt do makra <code>`'LL()</code>.
PrÃ¡zdnÃ½ pÃ¡r Å™Ã­dÃ­cÃ­ch znakÅ¯ <code>`'</code> pÅ™ed makrem <code>LL()</code> slouÅ¾Ã­ jako <a href="#m4-lr-hw-zavorky-lr-l-r-lhr-ldnl" title="[] .h: zÃ¡vorky [], [,], [âŸ¦#âŸ§], [âŸ¦dnlâŸ§]">oddÄ›lovaÄ symbolÅ¯</a>.
PÅ™i prÅ¯chodu zdrojovÃ©ho kÃ³du makro procesorem se makro <code>`'LL()</code> pÅ™epÃ­Å¡e zpÃ¡tky na pÅ¯vodnÃ­ znak <code>`</code> a&nbsp;prÃ¡zdnÃ½ pÃ¡r <code>`'</code> je odstranÄ›n.</p>
<div id="m4-anch-13" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: `'" class="m4-cmd m4-usc"><pre>sed 's/`/`'\''LL()/g' any.src | m4 rootq.m4 leaf.m4 -</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-13" title="âš“"></a></code></div>
<p>VyskytujÃ­-li se ve vstupnÃ­m kÃ³du komentÃ¡Å™e <code>#</code> nebo <code>dnl</code>, je nutnÃ© je skrÃ½t.
Znaky <code>`'</code> <a href="#m4-lr-hw-zavorky-lr-l-r-lhr-ldnl" title="[] .h: zÃ¡vorky [], [,], [âŸ¦#âŸ§], [âŸ¦dnlâŸ§]">vypnou</a> pÅ¯vodnÃ­ vÃ½znam komentÃ¡Å™Å¯ a budou odebrÃ¡ny pÅ™i prÅ¯chodu makro procesorem.<br>
KomentÃ¡Å™e M4 <code>#</code> a <code>dnl</code> jsou skryty mezi vÃ½chozÃ­ znaky: <code>`#'</code> <code>`dnl'</code></p>
<div id="m4-anch-14" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: `'" class="m4-cmd m4-usc"><pre>sed 's/`/`'\''LL()/g;s/#\|\&lt;dnl\>/`&amp;'\''/g' any.src | m4 rootq.m4 leaf.m4 -</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-14" title="âš“"></a></code></div>
<div id="m4-anch-15" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky jinak: `'" class="m4-cmd m4-usc"><pre>sed 's/`/`'\''LL()/g;s/#/`#'\''/g;s/\&lt;dnl\>/`dnl'\''/g' any.src | m4 â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-15" title="âš“"></a></code></div>
<h4 id="m4-lr-hranate-zavorky" class="m4-bh"><a href="#m4-lr-hranate-zavorky" title="âš“"></a><code>[]</code> HranatÃ© zÃ¡vorky<a href="#m4--toc" title="Nahoru"></a></h4>
<p>PouÅ¾ijeme-li pro <a href="#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­zenÃ­ expanze neterminÃ¡lÅ¯</a> hranatÃ© zÃ¡vorky, stejnÃ½m zpÅ¯sobem je skryta levÃ¡ <code>[</code> hranatÃ¡ zÃ¡vorka.
VÅ¡e ostatnÃ­ platÃ­ jako pro vÃ½chozÃ­ znaky <code>`'</code>.</p>
<div id="m4-anch-16" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: []" class="m4-cmd m4-usc"><pre>sed 's/\[/[]LL()/g' any.src | m4 rootb.m4 leaf.m4 - | â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-16" title="âš“"></a></code></div>
<p>KomentÃ¡Å™e M4 <code>#</code> a <code>dnl</code> jsou skrytÃ© mezi zÃ¡vorkami: <code>[#]</code> <code>[dnl]</code></p>
<div id="m4-anch-17" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: []" class="m4-cmd m4-usc"><pre>sed 's/\[/[]LL()/g;s/#\|\&lt;dnl\>/[&amp;]/g' any.src | m4 rootb.m4 leaf.m4 - | â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-17" title="âš“"></a></code></div>
<div id="m4-anch-18" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky jinak: []" class="m4-cmd m4-usc"><pre>sed 's/\[/[]LL()/g;s/#/[#]/g;s/\&lt;dnl\>/[dnl]/g' any.src | m4 rootb.m4 â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-18" title="âš“"></a></code></div>
<h4 id="m4-netisknutelne-znaky" class="m4-bh"><a href="#m4-netisknutelne-znaky" title="âš“"></a><code>â‚â†</code> NetisknutelnÃ© znaky<a href="#m4--toc" title="Nahoru"></a></h4>
<p>Pro Å™Ã­zenÃ­ expanze neterminÃ¡lÅ¯ lze pouÅ¾Ã­t netisknutelnÃ© znaky <b><code>â‚</code></b> (<samp>0x02</samp>) a&nbsp;<b><code>â†</code></b> (<samp>0x06</samp>).
Tyto znaky nemohou kolidovat s&nbsp;tisknutelnÃ½mi znaky zdrojovÃ©ho kÃ³du.</p>
<div id="m4-anch-19" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: â‚â†" class="m4-cmd m4-usc"><pre>m4 rootn.m4 leaf.m4 any.src | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-19" title="âš“"></a></code></div>
<p>KomentÃ¡Å™e M4 <code>#</code> a <code>dnl</code> jsou skryty mezi netisknutelnÃ© znaky: <code>â‚#â†</code> <code>â‚dnlâ†</code></p>
<div id="m4-anch-20" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: â‚â†" class="m4-cmd m4-usc"><pre>sed 's/#\|\&lt;dnl\>/â‚&amp;â†/g' any.src | m4 rootn.m4 leaf.m4 - | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-20" title="âš“"></a></code></div>
<div id="m4-anch-21" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky jinak: â‚â†" class="m4-cmd m4-usc"><pre>sed 's/#/â‚#â†/g;s/\&lt;dnl\>/â‚dnlâ†/g' any.src | m4 rootn.m4 leaf.m4 - | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-21" title="âš“"></a></code></div>
<h4 id="m4-utf-8-znaky" class="m4-bh"><a href="#m4-utf-8-znaky" title="âš“"></a><code>âŸ¦âŸ§</code> UTF-8 znaky<a href="#m4--toc" title="Nahoru"></a></h4>
<p>Expanzi neterminÃ¡lÅ¯ mÅ¯Å¾e takÃ© Å™Ã­dit vhodnÄ› zvolenÃ½ pÃ¡r UTF-8 znakÅ¯.
BÄ›Å¾nÃ½ zdrojovÃ½ kÃ³d takovÃ© znaky neobsahuje, proto nemusÃ­me Å™eÅ¡it kolizi levÃ©ho Å™Ã­dÃ­cÃ­ho <code>âŸ¦</code> znaku.
UTF-8 znaky nabÃ­zÃ­ podobnÃ© vÃ½hody jako netisknutelnÃ© znaky.</p>
<div id="m4-anch-22" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: âŸ¦âŸ§" class="m4-cmd m4-usc"><pre>m4 rootu.m4 leaf.m4 any.src | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-22" title="âš“"></a></code></div>
<p>KomentÃ¡Å™e M4 <code>#</code> a <code>dnl</code> jsou skryty mezi UTF-8 znaky: <code>âŸ¦#âŸ§</code> <code>âŸ¦dnlâŸ§</code></p>
<div id="m4-anch-23" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky: âŸ¦âŸ§" class="m4-cmd m4-usc"><pre>sed 's/#\|\&lt;dnl\>/âŸ¦&amp;âŸ§/g' any.src | m4 rootu.m4 leaf.m4 - | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-23" title="âš“"></a></code></div>
<div id="m4-anch-24" title="M4 jako preprocesor s Å™Ã­dÃ­cÃ­mi znaky jinak: âŸ¦âŸ§" class="m4-cmd m4-usc"><pre>sed 's/#/âŸ¦#âŸ§/g;s/\&lt;dnl\>/âŸ¦dnlâŸ§/g' any.src | m4 rootu.m4 leaf.m4 - | gcc â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-24" title="âš“"></a></code></div>
<p>VyzkouÅ¡ejte: <a href="#m4-priklady-preprocesoru" title="PÅ™Ã­klady preprocesoru">PÅ™Ã­klady preprocesoru</a></p>
<h4 id="m4-smiseny-rezim" class="m4-bh"><a href="#m4-smiseny-rezim" title="âš“"></a>SmÃ­Å¡enÃ½ reÅ¾im<a href="#m4--toc" title="Nahoru"></a></h4>
<p>SmÃ­Å¡enÃ½ reÅ¾im je kombinacÃ­ pÅ™edchozÃ­ch reÅ¾imÅ¯ a&nbsp;je pouÅ¾Ã­vÃ¡n hlavnÄ› na pokusy.
Data nejsou oddÄ›lena od transformaÄnÃ­ch pravidel.
ListovÃ½ soubor <code>leaf.m4</code> obsahuje definice tÄ›chto pravidel spolu se vstupnÃ­mi daty.</p>
<div id="m4-anch-25" title="jak se nauÄit M4" class="m4-cmd m4-usc"><pre>m4 root.m4 leaf.m4</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-25" title="âš“"></a></code></div>
<p>VyzkouÅ¡ejte: <a href="#m4-m4w-priklady" title="M4: pÅ™Ã­klady">M4: pÅ™Ã­klady</a></p>
<h2 id="m4-predpoklady-pro-zvladnuti-m4" class="m4-ch"><a href="#m4-predpoklady-pro-zvladnuti-m4-toc" title="Obsah"></a><a href="#m4-predpoklady-pro-zvladnuti-m4" title="âš“">5</a>PÅ™edpoklady pro zvlÃ¡dnutÃ­ M4<a href="#m4--toc" title="Nahoru"></a></h2>
<p>Pro ÃºspÄ›Å¡nÃ© zvlÃ¡dnutÃ­ tohoto makro jazyka je dÅ¯leÅ¾itÃ© splnit nÄ›kolik pÅ™edpokladÅ¯.
M4 nenÃ­ jednoduchÃ½ jazyk, protoÅ¾e nenÃ­ moÅ¾nÃ© v&nbsp;nÄ›m myslet a&nbsp;programovat jako v&nbsp;bÄ›Å¾nÃ©m programovacÃ­m jazyce.
NejdÅ¯leÅ¾itÄ›jÅ¡Ã­ je uvÄ›domit si, Å¾e se v&nbsp;nÄ›m programujÃ­ pÅ™episovacÃ­ pravidla gramatiky.
KaÅ¾dÃ½ Å™etÄ›zec je buÄ terminÃ¡lnÃ­ nebo neterminÃ¡lnÃ­ symbol vÄetnÄ› vÅ¡ech klÃ­ÄovÃ½ch slov jazyka (symboly <code>#</code> a&nbsp;<code>,</code> jsou speciÃ¡lnÃ­ pÅ™Ã­pady neterminÃ¡lÅ¯).</p>
<div title="poznÃ¡mka" class="rs-tip-major m4-note">M4 zÃ¡mÄ›rnÄ› nemÃ¡ klÃ­ÄovÃ¡ slova pro <b>cykly</b> (<code>for</code>/<code>while</code>), protoÅ¾e jeho zÃ¡klad je zcela jinÃ½, neÅ¾ jakÃ½ majÃ­ procedurÃ¡lnÃ­ nebo funkcionÃ¡lnÃ­ jazyky.<hr>
<ul>
<li><b>cykly</b> jsou pouze levorekurzivnÃ­ nebo pravorekurzivnÃ­</li>
<li><b>vÄ›tvÃ­</b> se <a href="#m4-vetveni-gramatikou" title="âŸ¦âŸ§ VÄ›tvenÃ­ gramatikou">Å™etÄ›zenÃ­m symbolÅ¯</a> nebo klÃ­ÄovÃ½mi slovy <code>ifelse()</code>, <code>ifdef()</code></li>
</ul>
</div>
<h3 id="m4-zaklady-gramatik" class="m4-ch"><a href="#m4-zaklady-gramatik-toc" title="Obsah"></a><a href="#m4-zaklady-gramatik" title="âš“">5.1</a>ZÃ¡klady gramatik<a href="#m4--toc" title="Nahoru"></a></h3>
<p>ZÃ¡kladem vÅ¡ech gramatik jsou <span class="m4-hgl" data-5="6">pÅ™episovacÃ­ pravidla</span>, jejichÅ¾ podobu obecnÄ› popisuje:</p>
<h4 id="m4-formalni-gramatika-chomskeho" class="m4-bh"><a href="#m4-formalni-gramatika-chomskeho" title="âš“"></a>FormÃ¡lnÃ­ gramatika (ChomskÃ©ho typu)<a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-formal-definition" class="m4-src"><pre>G = (N, Î£, P, S)
N: koneÄnÃ¡ mnoÅ¾ina neterminÃ¡lnÃ­ch symbolÅ¯
Î£: koneÄnÃ¡ mnoÅ¾ina terminÃ¡lnÃ­ch symbolÅ¯
   N âˆ© Î£ = Ã¸
P: koneÄnÃ¡ mnoÅ¾ina pÅ™episovacÃ­ch pravidel
   <span class="m4-x">(N âˆª Î£)*</span> <span class="m4-s">N</span> <span class="m4-x">(N âˆª Î£)*</span> â†’ <span class="m4-s">(N âˆª Î£)*</span>
S: je poÄÃ¡teÄnÃ­ (startovacÃ­) symbol
   S âˆˆ N</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-formal-definition" title="âš“"></a></code></div>
<p><a href="https://cs.wikipedia.org/wiki/Form%C3%A1ln%C3%AD_gramatika" title="Wikipedie">FormÃ¡lnÃ­ gramatika</a> popisuje <a href="https://cs.wikipedia.org/wiki/Chomsk%C3%A9ho_hierarchie" title="ChomskÃ©ho hierarchie
(Wikipedie)">podmnoÅ¾iny</a>
pÅ™episovacÃ­ch pravidel <a href="https://cs.wikipedia.org/wiki/Form%C3%A1ln%C3%AD_jazyk" title="Wikipedie">formÃ¡lnÃ­ho jazyka</a>.
Jedna z&nbsp;podmnoÅ¾in se jmenuje <span class="m4-hgl" data-5="S,X"><a href="https://cs.wikipedia.org/wiki/Bezkontextov%C3%A1_gramatika" title="Wikipedie">bezkontextovÃ¡ gramatika</a></span>,
krÃ¡tce <abbr title="Context-Free Grammar â€“ bezkontextovÃ¡ gramatika">CFG</abbr>.
Jak jiÅ¾ bylo dÅ™Ã­ve zmÃ­nÄ›no, pÅ™episovacÃ­ pravidla CFG pracujÃ­ stejnÄ› jako pÅ™episovacÃ­ pravidla jazyka M4.
NÄ›kterÃ½ z&nbsp;nÃ¡sledujÃ­cÃ­ch dÃ­lÅ¯ seriÃ¡lu se podrobnÄ›ji zamÄ›Å™Ã­ na formÃ¡lnÃ­ gramatiky.</p>
<h3 id="m4-zaklady-automatu" class="m4-ch"><a href="#m4-zaklady-automatu-toc" title="Obsah"></a><a href="#m4-zaklady-automatu" title="âš“">5.2</a>ZÃ¡klady automatÅ¯<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Schopnost pouÅ¾Ã­vat pÅ™evÃ¡Å¾nÄ› dvoustavovÃ© automaty je zÃ¡sadnÃ­ vÄ›c pro psanÃ­ jednoduchÃ½ch M4 skriptÅ¯, protoÅ¾e pÅ™evÃ¡Å¾nÃ¡ vÄ›tÅ¡ina skriptÅ¯ pouÅ¾Ã­vÃ¡ <a href="#m4-cw-maly-automat" title="âŸ¦âŸ§ C: malÃ½ automat">malÃ© automaty</a>.</p>
<h4 id="m4-testovaci-automat" class="m4-bh"><a href="#m4-testovaci-automat" title="âš“"></a>TestovacÃ­ automat<a href="#m4--toc" title="Nahoru"></a></h4>
<p>PoÅ™adÃ­ vstupnÃ­ch symbolÅ¯ nebo jejich kontext lze otestovat automatem.
SplÅˆujÃ­-li vstupnÃ­ symboly poÅ¾adovanÃ© vlastnosti, automat skonÄÃ­ v&nbsp;uzlu s&nbsp;dvojitÃ½m krouÅ¾kem, kterÃ½m se oznaÄuje akceptujÃ­cÃ­ stav.</p>
<img src="../img/dfa.png" alt="&nbsp;" width="274" height="155" id="m4-dfa-img" title="deterministickÃ½ koneÄnÃ½ automat (DFA)">
<p><em>ObrÃ¡zek <a href="#m4-dfa-img" title="âš“">2</a>: PÅ™Ã­klad automatu<a href="https://cs.wikipedia.org/wiki/Teorie_automat%C5%AF" title="Teorie automatÅ¯" id="m4-ref9">[9]</a> akceptujÃ­cÃ­ sudÃ½ poÄet (Å¾Ã¡dnÃ½ je takÃ© sudÃ½) symbolÅ¯ <code>0</code>, ignorujÃ­cÃ­ symboly <code>1</code>.
Automat je shodnÃ½ s&nbsp;regulÃ¡rnÃ­m vÃ½razem <code>(1*01*01*)*1*</code>.</em></p>
<p>PÅ™edchozÃ­ automat lze zapsat jako ASCII art doprovÃ¡zejÃ­cÃ­ M4 skript:</p>
<div id="m4-anch-27" title="ASCII art jako dokumentace M4 kÃ³du" class="m4-src"><pre>#          ____1
#         |   /
#      ___V__/   0    ____
# --->// S1 \\------>/ S2 \---.1
#     \\____//&lt;------\____/&lt;--'
#                0</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-27" title="âš“"></a></code></div>
<h4 id="m4-generujici-automat" class="m4-bh"><a href="#m4-generujici-automat" title="âš“"></a>GenerujÃ­cÃ­ automat<a href="#m4--toc" title="Nahoru"></a></h4>
<p>VstupnÃ­ symboly mÄ›nÃ­ uzly automatu, ÄÃ­mÅ¾ zÃ¡roveÅˆ mÄ›nÃ­ pÅ™episovacÃ­ pravidla pro generovÃ¡nÃ­ kÃ³du.
PÅ™Ã­klad <a href="#m4-jsonw-generujici-automat" title="âŸ¦âŸ§ JSON: generujÃ­cÃ­ automat">generujÃ­cÃ­ho automatu</a> naleznete v&nbsp;pÅ™Ã­loze:</p>
<div id="m4-anch-28" title="ASCII art generujÃ­cÃ­ho automatu" class="m4-src"><pre>#      _______      ___________
# --->/ ERROR \--->/ NEXT_ITEM \---.
#     \_______/    \___________/&lt;--'</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-anch-28" title="âš“"></a></code></div>
<h3 id="m4-gnu-make" class="m4-ch"><a href="#m4-gnu-make-toc" title="Obsah"></a><a href="#m4-gnu-make" title="âš“">5.3</a>(GNU) make<a href="#m4--toc" title="Nahoru"></a></h3>
<p>DobÅ™e navrÅ¾enÃ½ generÃ¡tor kÃ³du se obvykle sklÃ¡dÃ¡ z&nbsp;nÄ›kolika menÅ¡Ã­ch souborÅ¯, jejichÅ¾ poÅ™adÃ­, zÃ¡vislosti a&nbsp;parametry se zapisujÃ­ do souboru <code>Makefile</code>.
DobrÃ¡ znalost tvorby <code>Makefile</code> je proto zÃ¡kladnÃ­m pÅ™edpokladem pro zvlÃ¡dnutÃ­ M4.
ÄŒtenÃ­ a ÃºdrÅ¾ba zdrojovÃ©ho kÃ³du celkovÄ› zabere vÅ¾dy vÃ­ce Äasu neÅ¾ jeho tvorba.
DobÅ™e strukturovanÃ½ <code>Makefile</code> proto zÃ¡sadnÃ­m zpÅ¯sobem pÅ™ispÃ­vÃ¡ k&nbsp;celkovÃ© pÅ™ehlednosti vÃ½slednÃ©ho generÃ¡toru kÃ³du.</p>
<div title="tÃ­mto tÃ©matem se budeme zabÃ½vat jindy" class="rs-tip-major m4-note">SpouÅ¡tÄ›nÃ­ <code>make</code><a href="https://www.gnu.org/software/make/manual/make.html" title="GNU Make Manual" id="m4-ref10">[10]</a> z&nbsp;editoru kÃ³du pomocÃ­ vhodnÃ© klÃ¡vesovÃ© zkratky zÃ¡sadnÄ› urychluje vÃ½voj M4 kÃ³du.
Soubor <code>~/.vimrc</code> obsahuje <code>nnoremap &lt;c-j&gt; :make&lt;cr&gt;</code>.</div>
<h3 id="m4-vim" class="m4-ch"><a href="#m4-vim-toc" title="Obsah"></a><a href="#m4-vim" title="âš“">5.4</a>Vim<a href="#m4--toc" title="Nahoru"></a></h3>
<p>ZvlÃ¡dnutÃ­ editoru Vim<a href="https://www.vim.org/" title="Vim â€“ vÅ¡udypÅ™Ã­tomnÃ½ textovÃ½ editor" id="m4-ref11">[11]</a> je dÅ¯leÅ¾itÃ½m pÅ™edpokladem pro pohodlÃ­ a&nbsp;rychlost psanÃ­ kÃ³du M4.
Vim zkratky, definovanÃ© klÃ­ÄovÃ½m slovem <code>iabbrev</code>, uÅ¡etÅ™Ã­ velkÃ© mnoÅ¾stvÃ­ zbyteÄnÄ› napsanÃ©ho textu.
Tyto zkratky takÃ© vÃ½znamnÄ› sniÅ¾ujÃ­ vÃ½skyt tÃ©mÄ›Å™ neviditelnÃ½ch chyb zpÅ¯sobenÃ½ch nepÃ¡rovou zÃ¡vorkou, ÄÃ­mÅ¾ Å¡etÅ™Ã­ ztracenÃ½ Äas vynaloÅ¾enÃ½ na ladÄ›nÃ­ kÃ³du.</p>
<h3 id="m4-talent-a-cas" class="m4-ch"><a href="#m4-talent-a-cas-toc" title="Obsah"></a><a href="#m4-talent-a-cas" title="âš“">5.5</a>Talent a Äas<a href="#m4--toc" title="Nahoru"></a></h3>
<p>M4 obvykle nejde zcela zvlÃ¡dnout pÅ™es vÃ­kend, zvlÃ¡Å¡tÄ› chybÃ­-li zÃ¡klady<a href="https://is.muni.cz/elportal/estud/fi/js06/ib005/Formalni_jazyky_a_automaty_I.pdf" title="Automaty a&nbsp;formÃ¡lnÃ­ jazyky I" id="m4-ref12">[12]</a>
<a href="https://cs.wikipedia.org/wiki/Teorie_automat%C5%AF" title="Wikipedie">teorie&nbsp;automatÅ¯</a> a&nbsp;<a href="https://cs.wikipedia.org/wiki/Form%C3%A1ln%C3%AD_gramatika" title="Wikipedie">formÃ¡lnÃ­ch&nbsp;gramatik</a>.
Ke zvlÃ¡dnutÃ­ jazyka M4 je nutnÃ© v&nbsp;nÄ›m programovat delÅ¡Ã­ obdobÃ­ a&nbsp;napsat mnoÅ¾stvÃ­ Å¡patnÃ©ho (sloÅ¾itÃ©ho) M4 kÃ³du, kterÃ½ z&nbsp;vlastnÃ­ vÅ¯le pÅ™epÃ­Å¡ete kvÅ¯li lepÅ¡Ã­mu nÃ¡padu.
TÃ­mto zpÅ¯sobem je moÅ¾nÃ© postupnÄ› zÃ­skat praxi.</p>
<!-- article references -->
<h2 id="m4-links" class="m4-ch"><a href="#m4-links-toc" title="Obsah"></a><a href="#m4-links" title="âš“">6</a>Odkazy<a href="#m4--toc" title="Nahoru"></a></h2>
<ol class="m4-refs">
<li><a href="#m4-ref1" title="odkaz v textu"></a><b>GenerovÃ¡nÃ­ kÃ³du v M4</b>, Å¡ablona s&nbsp;pÅ™Ã­klady pro <a href="https://www.root.cz" title="Root.cz â€“ informace nejen ze svÄ›ta Linuxu">www.root.cz</a>
<a href="http://github.com/jkubin/m4root">http://github.com/jkubin/m4root</a></li>
<li><a href="#m4-ref2" title="odkaz v textu"></a><b>A&nbsp;General Purpose Macro-generator</b>, Computer Journal 8, 3 (1965), 225â€“41
<a href="http://dx.doi.org/10.1093/comjnl/8.3.225">http://dx.doi.org/10.1093/comjnl/8.3.225</a></li>
<li><a href="#m4-ref3" title="odkaz v textu"></a><b>RATFOR â€” A Preprocessor for a Rational Fortran</b>, Brian W. Kernighan
<a href="https://wolfram.schneider.org/bsd/7thEdManVol2/ratfor/ratfor.pdf">https://wolfram.schneider.org/bsd/7thEdManVol2/ratfor/ratfor.pdf</a></li>
<li><a href="#m4-ref4" title="odkaz v textu"></a><b>The M4 Macro Processor</b>, Bell Laboratories (1977)
<a href="https://wolfram.schneider.org/bsd/7thEdManVol2/m4/m4.pdf">https://wolfram.schneider.org/bsd/7thEdManVol2/m4/m4.pdf</a></li>
<li><a href="#m4-ref5" title="odkaz v textu"></a><b>Christopher Strachey</b>, Computer Hope â€“ Free computer help since 1998
<a href="https://www.computerhope.com/people/christopher_strachey.htm">https://www.computerhope.com/people/christopher_strachey.htm</a></li>
<li><a href="#m4-ref6" title="odkaz v textu"></a><b>Dennis Ritchie</b>, Zomrel tvorca Unixu a&nbsp;jazyka&nbsp;C
<a href="https://pc.zoznam.sk/novinka/zomrel-tvorca-unixu-jazyka-c">https://pc.zoznam.sk/novinka/zomrel-tvorca-unixu-jazyka-c</a></li>
<li><a href="#m4-ref7" title="odkaz v textu"></a><b>Brian Kernighan</b>, An Interview with Brian Kernighan
<a href="https://www.cs.cmu.edu/~mihaib/kernighan-interview/">https://www.cs.cmu.edu/~mihaib/kernighan-interview/</a></li>
<li><a href="#m4-ref8" title="odkaz v textu"></a><b>GNU M4 - GNU macro processor</b>, Free Software Foundation
<a href="https://www.gnu.org/software/m4/manual/">https://www.gnu.org/software/m4/manual/</a></li>
<li><a href="#m4-ref9" title="odkaz v textu"></a><b>Teorie automatÅ¯</b>, From Wikipedia, the free encyclopedia
<a href="https://cs.wikipedia.org/wiki/Teorie_automat%C5%AF">https://cs.wikipedia.org/wiki/Teorie_automat%C5%AF</a></li>
<li><a href="#m4-ref10" title="odkaz v textu"></a><b>GNU Make Manual</b>, Free Software Foundation
<a href="https://www.gnu.org/software/make/manual/make.html">https://www.gnu.org/software/make/manual/make.html</a></li>
<li><a href="#m4-ref11" title="odkaz v textu"></a><b>Vim â€“ vÅ¡udypÅ™Ã­tomnÃ½ textovÃ½ editor</b>, kterÃ½ edituje text rychlostÃ­ myÅ¡lenky
<a href="https://www.vim.org/">https://www.vim.org/</a></li>
<li><a href="#m4-ref12" title="odkaz v textu"></a><b>Automaty a&nbsp;formÃ¡lnÃ­ jazyky I</b>, UÄebnÃ­ text FI MU
<a href="https://is.muni.cz/elportal/estud/fi/js06/ib005/Formalni_jazyky_a_automaty_I.pdf">https://is.muni.cz/elportal/estud/fi/js06/ib005/Formalni_jazyky_a_automaty_I.pdf</a></li>
<li><b>Automaty a&nbsp;gramatiky</b>, Michal Chytil, 1. vydÃ¡nÃ­, Praha, 331 s. 1984.
<a href="https://is.muni.cz/publication/173173">https://is.muni.cz/publication/173173</a></li>
</ol>
<!-- appendix content -->
<h2 id="m4-priklady-generovani-kodu" class="m4-ch"><a href="#m4-priklady-generovani-kodu-toc" title="Obsah"></a><a href="#m4-priklady-generovani-kodu" title="âš“">A</a>PÅ™Ã­klady generovÃ¡nÃ­ kÃ³du<a href="#m4--toc" title="Nahoru"></a></h2>
<div title="pro informaci" class="rs-tip-major m4-info">Znaky {<code title="uvozovky" class="m4-xp">`'</code>, <code title="hranatÃ© zÃ¡vorky" class="m4-xp">[]</code>, <code title="netisknutelnÃ© znaky" class="m4-xp">â‚â†</code>, <code title="UTF-8 znaky" class="m4-xp">âŸ¦âŸ§</code>} v&nbsp;nÃ¡zvu pÅ™Ã­kladu <a href="../generovani-kodu-v-m4-uvod/preview.html#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­dÃ­ expanzi neterminÃ¡lÅ¯</a>.</div>
<p id="m4-vstupni-zdrojovy-kod-toc" class="m4-l2"><a href="#m4-vstupni-zdrojovy-kod"><b>A.1</b><code>âŸ¦âŸ§</code> VstupnÃ­ zdrojovÃ½ kÃ³d</a></p>
<p id="m4-csvw-nejjednodussi-priklad-toc" class="m4-l2"><a href="#m4-csvw-nejjednodussi-priklad"><b>A.2</b><code>âŸ¦âŸ§</code> CSV: nejjednoduÅ¡Å¡Ã­ pÅ™Ã­klad</a></p>
<p id="m4-csvw-pocitadlo-toc" class="m4-l2"><a href="#m4-csvw-pocitadlo"><b>A.3</b><code>âŸ¦âŸ§</code> CSV: poÄÃ­tadlo</a></p>
<p id="m4-upravy-specialnich-znaku-toc" class="m4-l2"><a href="#m4-upravy-specialnich-znaku"><b>A.4</b><code title="jak se to dÄ›lÃ¡" style="cursor:help">ğŸ’¡</code> Ãšpravy speciÃ¡lnÃ­ch znakÅ¯</a></p>
<p id="m4-cw-vystupni-fronta-toc" class="m4-l2"><a href="#m4-cw-vystupni-fronta"><b>A.5</b><code>âŸ¦âŸ§</code> C: vÃ½stupnÃ­ fronta</a></p>
<p id="m4-iniw-externi-prikaz-toc" class="m4-l2"><a href="#m4-iniw-externi-prikaz"><b>A.6</b><code>âŸ¦âŸ§</code> INI: externÃ­ pÅ™Ã­kaz</a></p>
<p id="m4-hw-hex-pocitadlo-toc" class="m4-l2"><a href="#m4-hw-hex-pocitadlo"><b>A.7</b><code>âŸ¦âŸ§</code> .h: hex poÄÃ­tadlo</a></p>
<p id="m4-cw-maly-automat-toc" class="m4-l2"><a href="#m4-cw-maly-automat"><b>A.8</b><code>âŸ¦âŸ§</code> C: malÃ½ automat</a></p>
<p id="m4-cw-maly-automat-2-toc" class="m4-l2"><a href="#m4-cw-maly-automat-2"><b>A.9</b><code>âŸ¦âŸ§</code> C: malÃ½ automat 2</a></p>
<p id="m4-htmlw-vystupni-fronty-toc" class="m4-l2"><a href="#m4-htmlw-vystupni-fronty"><b>A.10</b><code>âŸ¦âŸ§</code> HTML: vÃ½stupnÃ­ fronty</a></p>
<p id="m4-vetveni-gramatikou-toc" class="m4-l2"><a href="#m4-vetveni-gramatikou"><b>A.11</b><code>âŸ¦âŸ§</code> VÄ›tvenÃ­ gramatikou</a></p>
<p id="m4-jsonw-generujici-automat-toc" class="m4-l2"><a href="#m4-jsonw-generujici-automat"><b>A.12</b><code>âŸ¦âŸ§</code> JSON: generujÃ­cÃ­ automat</a></p>
<p id="m4-jsonw-pojmenovane-fronty-toc" class="m4-l3"><a href="#m4-jsonw-pojmenovane-fronty"><b>A.12.1</b><code>âŸ¦âŸ§</code> JSON: pojmenovanÃ© fronty</a></p>
<p id="m4-jsonw-generovane-indexy-front-toc" class="m4-l3"><a href="#m4-jsonw-generovane-indexy-front"><b>A.12.2</b><code>âŸ¦âŸ§</code> JSON: generovanÃ© indexy front</a></p>
<p id="m4-iniw-nespojity-index-front-toc" class="m4-l2"><a href="#m4-iniw-nespojity-index-front"><b>A.13</b><code>âŸ¦âŸ§</code> INI: nespojitÃ½ index front</a></p>
<p id="m4-xmlw-smisene-zpravy-toc" class="m4-l2"><a href="#m4-xmlw-smisene-zpravy"><b>A.14</b><code>âŸ¦âŸ§</code> XML: smÃ­Å¡enÃ© zprÃ¡vy</a></p>
<p id="m4-xmlw-oddelene-zpravy-toc" class="m4-l2"><a href="#m4-xmlw-oddelene-zpravy"><b>A.15</b><code>âŸ¦âŸ§</code> XML: oddÄ›lenÃ© zprÃ¡vy</a></p>
<p id="m4-bash-echo-dretezecd-toc" class="m4-l2"><a href="#m4-bash-echo-dretezecd"><b>A.16</b><code>âŸ¦âŸ§</code> Bash <code>$ echo &quot;Å™etÄ›zec&quot;</code></a></p>
<p id="m4-bash-echo-aretezeca-toc" class="m4-l2"><a href="#m4-bash-echo-aretezeca"><b>A.17</b><code>âŸ¦âŸ§</code> Bash <code>$ echo 'Å™etÄ›zec'</code></a></p>
<div title="poznÃ¡mka" class="rs-tip-major m4-note">PÅ™Ã­klady v&nbsp;tÃ©to pÅ™Ã­loze jsou sloÅ¾itÄ›jÅ¡Ã­ a&nbsp;jejich cÃ­lem je ukÃ¡zat praktickÃ© pouÅ¾itÃ­ jazyka M4.
PodrobnÄ›ji budou vysvÄ›tleny pozdÄ›ji.</div>
<h3 id="m4-vstupni-zdrojovy-kod" class="m4-ch"><a href="#m4-vstupni-zdrojovy-kod-toc" title="Obsah"></a><a href="#m4-vstupni-zdrojovy-kod" title="âš“">A.1</a><code>âŸ¦âŸ§</code> VstupnÃ­ zdrojovÃ½ kÃ³d<a href="#m4--toc" title="Nahoru"></a></h3>
<p>VstupnÃ­ zdrojovÃ½ kÃ³d je podobnÃ½ <abbr title="Comma Separated Values">CSV</abbr>, kterÃ½ se pÅ™evede na libovolnÄ› sloÅ¾itÃ½ cÃ­lovÃ½ kÃ³d jinÃ©ho jazyka pomocÃ­ <abbr title="Context-Free Grammar â€“ bezkontextovÃ¡ gramatika">CFG</abbr>, automatÅ¯ a&nbsp;vÃ½stupnÃ­ch front.
ZÃ¡sobnÃ­ky v&nbsp;pÅ™Ã­kladech nejsou pouÅ¾ity.
VstupnÃ­ zdrojovÃ½ kÃ³d obsahuje speciÃ¡lnÃ­ znaky, kterÃ© je nutnÃ© skrÃ½t:</p>
<div id="m4-messages_messages_raw-mc" class="m4-src"><pre># 2018/05/15 Josef Kubin

<span class="m4-r">ERROR</span>(âŸ¦COMPLEXâŸ§,     âŸ¦!"#$%&amp;'()*+,-./:;&lt;=>?@[\]^_`{|}~âŸ§)
QUERY(âŸ¦READABLEâŸ§,    âŸ¦Is badly written M4 code readable [N/y]?âŸ§)
<span class="m4-r">ERROR</span>(âŸ¦SUCCESSâŸ§,     âŸ¦Too complex M4 code failed successfully.âŸ§)
WARNING(âŸ¦ADDICTIVEâŸ§, âŸ¦Programming in M4 is addictive!âŸ§)
<span class="m4-r">ERROR</span>(âŸ¦NO_FAULTâŸ§,    âŸ¦It's not a language fault!âŸ§)
WARNING(âŸ¦NO_ERRORSâŸ§, âŸ¦No other errors were found.âŸ§)</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages_raw.mc" title="messages/messages_raw.mc
date: 20210103 13:28:44
sha1sum: d1f057c
size: 420 B">messages_raw.mc</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages_raw-mc" title="âš“"></a></code></div>
<div title="poznÃ¡mka" class="rs-tip-major m4-note">VstupnÃ­ soubor mÅ¯Å¾e takÃ© obsahovat poznÃ¡mky, kterÃ© nemusÃ­ bÃ½t skrytÃ© v&nbsp;komentÃ¡Å™Ã­ch <code>#</code>, <code>dnl</code>, <code>ifelse([â€¦])</code> nebo <code>[â€¦ nÄ›kde uvnitÅ™ zÃ¡vorek â€¦]</code>.</div>
<h3 id="m4-csvw-nejjednodussi-priklad" class="m4-ch"><a href="#m4-csvw-nejjednodussi-priklad-toc" title="Obsah"></a><a href="#m4-csvw-nejjednodussi-priklad" title="âš“">A.2</a><code>âŸ¦âŸ§</code> CSV: nejjednoduÅ¡Å¡Ã­ pÅ™Ã­klad<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Tento pÅ™Ã­klad nepouÅ¾Ã­vÃ¡ vÃ½stupnÃ­ fronty, <span class="m4-hgl" data-9="R,5" data-10="1-3" data-8="R,3,5,7">pouze vypisuje</span> <abbr title="Comma Separated Values">CSV</abbr> oddÄ›lenÃ© znakem <code>TAB</code> na <span class="m4-hgl" data-9="4">standardnÃ­ vÃ½stup</span>.</p>
<div id="m4-messages_hello-csv-m4" class="m4-src"><pre># A â†’ Î²
define(âŸ¦<span class="m4-r">ERROR</span>âŸ§, âŸ¦

	divert(0)dnl
âŸ¦$1	$2âŸ§
divert(-1)
âŸ§)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/hello.csv.m4" title="messages/hello.csv.m4
date: 20201226 21:52:28
sha1sum: 020529d
size: 78 B">hello.csv.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-csv-m4" title="âš“"></a></code></div>
<div id="m4-messages_hello-csv-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/hello.csv.m4" title="messages/hello.csv.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 020529d
size: 78 B">hello.csv.m4</a> <a href="../messages/messages_raw.mc" title="messages/messages_raw.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: d1f057c
size: 420 B">messages_raw.mc</a> > <a href="../messages/hello.csv" title="messages/hello.csv
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 429f847
size: 126 B">hello.csv</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-csv-command" title="âš“"></a></code></div>
<div id="m4-messages_hello-csv" class="m4-src"><pre>COMPLEX	!"#$%&amp;'()*+,-./:;&lt;=>?@[\]^_`{|}~
SUCCESS	Too complex M4 code failed successfully.
NO_FAULT	It's not a language fault!</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/hello.csv" title="messages/hello.csv
date: 20210103 13:28:44
sha1sum: 429f847
size: 126 B">hello.csv</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-csv" title="âš“"></a></code></div>
<h3 id="m4-csvw-pocitadlo" class="m4-ch"><a href="#m4-csvw-pocitadlo-toc" title="Obsah"></a><a href="#m4-csvw-pocitadlo" title="âš“">A.3</a><code>âŸ¦âŸ§</code> CSV: poÄÃ­tadlo<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ makro <code class="m4-hgl" data-11="A">COUNT_UP</code> ze souboru <code>countu.m4</code>, jehoÅ¾ <abbr title="pravÃ¡ strana pÅ™episovacÃ­ho pravidla"><code>Î²</code></abbr> se zkopÃ­ruje do pravÃ© strany makra <code class="m4-hgl" data-11="2">COUNTER</code>.
BÄ›hem prvnÃ­ expanze <code class="m4-hgl" data-11="5">COUNTER</code> probÄ›hne inicializace jeho startovacÃ­ hodnoty.
<span class="m4-hgl" data-11="B">DalÅ¡Ã­ expanze</span> vrÃ¡tÃ­ <span class="m4-hgl" data-12="A">ÄÃ­selnÃ½ terminÃ¡lnÃ­ symbol</span> a&nbsp;probÄ›hne zvÃ½Å¡enÃ­ vnitÅ™nÃ­ho pomocnÃ©ho (globÃ¡lnÃ­ho) symbolu o&nbsp;jedniÄku.
<code>COUNTER</code> je malÃ½ automat.</p>
<div id="m4-messages_counter-csv-m4" class="m4-src"><pre># A â†’ Î²
define(âŸ¦COUNTERâŸ§, defn(âŸ¦<span class="m4-a">COUNT_UP</span>âŸ§))

# init counter
COUNTER(1)

# A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
ERR_âŸ¦âŸ§<span class="m4-b">COUNTER</span>	âŸ¦$1	$2âŸ§
divert(-1)
âŸ§)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/counter.csv.m4" title="messages/counter.csv.m4
date: 20201226 21:52:28
sha1sum: 63e2693
size: 179 B">counter.csv.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_counter-csv-m4" title="âš“"></a></code></div>
<div id="m4-messages_counter-csv-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../gfiles/countu.m4" title="gfiles/countu.m4
date: 20200429 07:34:47
git rev: 17cb82f
sha1sum: 83b97d7
size: 947 B">countu.m4</a> <a href="../messages/counter.csv.m4" title="messages/counter.csv.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 63e2693
size: 179 B">counter.csv.m4</a> <a href="../messages/messages_raw.mc" title="messages/messages_raw.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: d1f057c
size: 420 B">messages_raw.mc</a> > <a href="../messages/counter.csv" title="messages/counter.csv
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 367d2b1
size: 144 B">counter.csv</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_counter-csv-command" title="âš“"></a></code></div>
<div id="m4-messages_counter-csv" class="m4-src"><pre>ERR_<span class="m4-a">1</span>	COMPLEX	!"#$%&amp;'()*+,-./:;&lt;=>?@[\]^_`{|}~
ERR_<span class="m4-a">2</span>	SUCCESS	Too complex M4 code failed successfully.
ERR_<span class="m4-a">3</span>	NO_FAULT	It's not a language fault!</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/counter.csv" title="messages/counter.csv
date: 20210103 13:28:44
sha1sum: 367d2b1
size: 144 B">counter.csv</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_counter-csv" title="âš“"></a></code></div>
<h3 id="m4-upravy-specialnich-znaku" class="m4-ch"><a href="#m4-upravy-specialnich-znaku-toc" title="Obsah"></a><a href="#m4-upravy-specialnich-znaku" title="âš“">A.4</a><code title="jak se to dÄ›lÃ¡" style="cursor:help">ğŸ’¡</code> Ãšpravy speciÃ¡lnÃ­ch znakÅ¯<a href="#m4--toc" title="Nahoru"></a></h3>
<p>KaÅ¾dÃ½ typ vÃ½stupnÃ­ho kÃ³du vyÅ¾aduje Ãºpravu speciÃ¡lnÃ­ch znakÅ¯.
KlÃ­ÄovÃ© slovo jazyka M4 <code>patsubst()</code> je nevhodnÃ© pro tento Ãºkol.
VÅ¡echny speciÃ¡lnÃ­ znaky vstupnÃ­ho souboru proto napÅ™ed skryjeme do <span class="m4-hgl" data-13="A">vhodnÄ› pojmenovanÃ½ch maker</span> pomocÃ­ regulÃ¡rnÃ­ch vÃ½razÅ¯.</p>
<h4 id="m4-upraveny-vstupni-kod" class="m4-bh"><a href="#m4-upraveny-vstupni-kod" title="âš“"></a>UpravenÃ½ vstupnÃ­ kÃ³d<a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_messages-mc" class="m4-src"><pre title="vÅ¡echny speciÃ¡lnÃ­ znaky jsou skryty do maker"># 2018/05/15 Josef Kubin

ERROR(âŸ¦COMPLEXâŸ§,     âŸ¦âŸ¦âŸ§<span class="m4-a">EX()</span>âŸ¦âŸ§<span class="m4-a">DQ()</span>âŸ¦#âŸ§âŸ¦âŸ§<span class="m4-a">DO()</span>%âŸ¦âŸ§<span class="m4-a">AMP()</span>âŸ¦âŸ§<span class="m4-a">AP()</span>()*+,-./:;âŸ¦âŸ§<span class="m4-a">LT()</span>=âŸ¦âŸ§<span class="m4-a">GT()</span>?@[âŸ¦âŸ§<span class="m4-a">BS()</span>]^_âŸ¦âŸ§<span class="m4-a">BQ()</span>{|}~âŸ§)
QUERY(âŸ¦READABLEâŸ§,    âŸ¦Is badly written M4 code readable [N/y]?âŸ§)
ERROR(âŸ¦SUCCESSâŸ§,     âŸ¦Too complex M4 code failed successfully.âŸ§)
WARNING(âŸ¦ADDICTIVEâŸ§, âŸ¦Programming in M4 is addictiveâŸ¦âŸ§<span class="m4-a">EX()</span>âŸ§)
ERROR(âŸ¦NO_FAULTâŸ§,    âŸ¦ItâŸ¦âŸ§<span class="m4-a">AP()</span>s not a language faultâŸ¦âŸ§<span class="m4-a">EX()</span>âŸ§)
WARNING(âŸ¦NO_ERRORSâŸ§, âŸ¦No other errors were found.âŸ§)</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
sha1sum: c6496e4
size: 535 B">messages.mc</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-mc" title="âš“"></a></code></div>
<h4 id="m4-prevodni-soubor-pro-xml-xslt" class="m4-bh"><a href="#m4-prevodni-soubor-pro-xml-xslt" title="âš“"></a><code>âŸ¦âŸ§</code> PÅ™evodnÃ­ soubor pro XML, XSLT, HTML<a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_markup-m4" class="m4-src"><pre title="pÅ™evodnÃ­ soubor pro znaÄkovacÃ­ jazyky"># A â†’ Î²
define(âŸ¦AMPâŸ§, âŸ¦&amp;amp;âŸ§)
define(âŸ¦APâŸ§, âŸ¦'âŸ§)
define(âŸ¦BQâŸ§, âŸ¦`âŸ§)
define(âŸ¦BSâŸ§, âŸ¦\âŸ§)
define(âŸ¦DOâŸ§, âŸ¦$âŸ§)
define(âŸ¦DQâŸ§, âŸ¦"âŸ§)
define(âŸ¦EXâŸ§, âŸ¦!âŸ§)
define(âŸ¦GTâŸ§, âŸ¦&amp;gt;âŸ§)
define(âŸ¦LTâŸ§, âŸ¦&amp;lt;âŸ§)</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/markup.m4" title="messages/markup.m4
date: 20201226 22:38:15
sha1sum: 98612ec
size: 256 B">markup.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_markup-m4" title="âš“"></a></code></div>
<h4 id="m4-prevodni-soubor-pro-c-json-in" class="m4-bh"><a href="#m4-prevodni-soubor-pro-c-json-in" title="âš“"></a><code>âŸ¦âŸ§</code> PÅ™evodnÃ­ soubor pro C, JSON, INI: <code>&quot;Å™etÄ›zec&quot;</code><a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_code-m4" class="m4-src"><pre title="pÅ™evodnÃ­ soubor pro zdrojovÃ½ kÃ³d"># A â†’ Î²
define(âŸ¦AMPâŸ§, âŸ¦&amp;âŸ§)
define(âŸ¦APâŸ§, âŸ¦'âŸ§)
define(âŸ¦BQâŸ§, âŸ¦`âŸ§)
define(âŸ¦BSâŸ§, âŸ¦\\âŸ§)
define(âŸ¦DOâŸ§, âŸ¦$âŸ§)
define(âŸ¦DQâŸ§, âŸ¦\"âŸ§)
define(âŸ¦EXâŸ§, âŸ¦!âŸ§)
define(âŸ¦GTâŸ§, âŸ¦>âŸ§)
define(âŸ¦LTâŸ§, âŸ¦&lt;âŸ§)</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
sha1sum: d709e07
size: 248 B">code.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_code-m4" title="âš“"></a></code></div>
<h4 id="m4-prevodni-soubor-pro-bashw-dre" class="m4-bh"><a href="#m4-prevodni-soubor-pro-bashw-dre" title="âš“"></a><code>âŸ¦âŸ§</code> PÅ™evodnÃ­ soubor pro Bash: <code>&quot;Å™etÄ›zec&quot;</code><a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_doubleq-m4" class="m4-src"><pre title="pÅ™evodnÃ­ soubor pro Bash &quot;Å™etÄ›zce v uvozovkÃ¡ch&quot;"># A â†’ Î²
define(âŸ¦AMPâŸ§, âŸ¦&amp;âŸ§)
define(âŸ¦APâŸ§, âŸ¦'âŸ§)
define(âŸ¦BQâŸ§, âŸ¦\`âŸ§)
define(âŸ¦BSâŸ§, âŸ¦\\âŸ§)
define(âŸ¦DOâŸ§, âŸ¦$âŸ§)
define(âŸ¦DQâŸ§, âŸ¦\"âŸ§)
define(âŸ¦EXâŸ§, âŸ¦"\!"âŸ§)
define(âŸ¦GTâŸ§, âŸ¦>âŸ§)
define(âŸ¦LTâŸ§, âŸ¦&lt;âŸ§)</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/doubleq.m4" title="messages/doubleq.m4
date: 20201226 22:38:15
sha1sum: c94b763
size: 252 B">doubleq.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_doubleq-m4" title="âš“"></a></code></div>
<h4 id="m4-prevodni-soubor-pro-bashw-are" class="m4-bh"><a href="#m4-prevodni-soubor-pro-bashw-are" title="âš“"></a><code>âŸ¦âŸ§</code> PÅ™evodnÃ­ soubor pro Bash: <code>&apos;Å™etÄ›zec&apos;</code><a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_apost-m4" class="m4-src"><pre title="pÅ™evodnÃ­ soubor pro Bash 'Å™etÄ›zce v apostrofech'"># A â†’ Î²
define(âŸ¦AMPâŸ§, âŸ¦&amp;âŸ§)
define(âŸ¦APâŸ§, âŸ¦'\''âŸ§)
define(âŸ¦BQâŸ§, âŸ¦`âŸ§)
define(âŸ¦BSâŸ§, âŸ¦\âŸ§)
define(âŸ¦DOâŸ§, âŸ¦$âŸ§)
define(âŸ¦DQâŸ§, âŸ¦"âŸ§)
define(âŸ¦EXâŸ§, âŸ¦!âŸ§)
define(âŸ¦GTâŸ§, âŸ¦>âŸ§)
define(âŸ¦LTâŸ§, âŸ¦&lt;âŸ§)</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/apost.m4" title="messages/apost.m4
date: 20201226 22:38:15
sha1sum: e7eec73
size: 249 B">apost.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_apost-m4" title="âš“"></a></code></div>
<h4 id="m4-prevodni-soubor-pro-csv-m4-vr" class="m4-bh"><a href="#m4-prevodni-soubor-pro-csv-m4-vr" title="âš“"></a><code>âŸ¦âŸ§</code> PÅ™evodnÃ­ soubor pro CSV, M4 (vrÃ¡tÃ­ vÅ¡echny znaky zpÃ¡tky)<a href="#m4--toc" title="Nahoru"></a></h4>
<div id="m4-messages_unchanged-m4" class="m4-src"><pre title="pÅ™evodnÃ­ soubor vrÃ¡tÃ­ vÅ¡echny speciÃ¡lnÃ­ znaky zpÃ¡tky"># A â†’ Î²
define(âŸ¦AMPâŸ§, âŸ¦&amp;âŸ§)
define(âŸ¦APâŸ§, âŸ¦'âŸ§)
define(âŸ¦BQâŸ§, âŸ¦`âŸ§)
define(âŸ¦BSâŸ§, âŸ¦\âŸ§)
define(âŸ¦DOâŸ§, âŸ¦$âŸ§)
define(âŸ¦DQâŸ§, âŸ¦"âŸ§)
define(âŸ¦EXâŸ§, âŸ¦!âŸ§)
define(âŸ¦GTâŸ§, âŸ¦>âŸ§)
define(âŸ¦LTâŸ§, âŸ¦&lt;âŸ§)</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/unchanged.m4" title="messages/unchanged.m4
date: 20201226 22:38:15
sha1sum: d2fb4b9
size: 246 B">unchanged.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_unchanged-m4" title="âš“"></a></code></div>
<h3 id="m4-cw-vystupni-fronta" class="m4-ch"><a href="#m4-cw-vystupni-fronta-toc" title="Obsah"></a><a href="#m4-cw-vystupni-fronta" title="âš“">A.5</a><code>âŸ¦âŸ§</code> C: vÃ½stupnÃ­ fronta<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ jednu <span class="m4-hgl" data-19="15">vÃ½stupnÃ­ frontu</span> na znaky <code class="m4-hgl" data-19="16" data-20="9">};</code> pro uzavÅ™enÃ­ <span class="m4-hgl" data-20="6-8" data-19="5">pole</span> na konci skriptu.</p>
<div id="m4-messages_array-c-m4" class="m4-src"><pre># A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
	"$2",
divert(-1)
âŸ§)

divert(0)dnl
/*
 * DONTE()
 */

char *error[] = {
divert(1)dnl
};
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/array.c.m4" title="messages/array.c.m4
date: 20201226 21:52:28
sha1sum: 8c6c428
size: 151 B">array.c.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_array-c-m4" title="âš“"></a></code></div>
<div id="m4-messages_array-c-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/array.c.m4" title="messages/array.c.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 8c6c428
size: 151 B">array.c.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/array.c" title="messages/array.c
date: 20200331 19:30:06
git rev: 9156810
sha1sum: 9651d22
size: 198 B">array.c</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_array-c-command" title="âš“"></a></code></div>
<div id="m4-messages_array-c" class="m4-src"><pre>/*
 * DO NOT EDIT! This file is generated automatically!
 */

char *error[] = {
	"!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~",
	"Too complex M4 code failed successfully.",
	"It's not a language fault!",
};</pre><code><span class="m4-sha">9156810</span><a href="../messages/array.c" title="messages/array.c
date: 20200331 19:30:06
sha1sum: 9651d22
size: 198 B">array.c</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_array-c" title="âš“"></a></code></div>
<h3 id="m4-iniw-externi-prikaz" class="m4-ch"><a href="#m4-iniw-externi-prikaz-toc" title="Obsah"></a><a href="#m4-iniw-externi-prikaz" title="âš“">A.6</a><code>âŸ¦âŸ§</code> INI: externÃ­ pÅ™Ã­kaz<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad spustÃ­ externÃ­ pÅ™Ã­kaz <code class="m4-hgl" data-21="D" data-22="3">date</code> a&nbsp;jeho vÃ½stup umÃ­stÃ­ do hranatÃ½ch zÃ¡vorek.
VÃ½stupem externÃ­ho pÅ™Ã­kazu jsou <span class="m4-hgl" data-21="A">dvÄ› poloÅ¾ky oddÄ›lenÃ© ÄÃ¡rkou</span>.
Makro <code class="m4-hgl" data-21="C">SARG1()</code> <span class="m4-hgl" data-21="B">vybere prvnÃ­ poloÅ¾ku</span>, protoÅ¾e druhÃ¡ poloÅ¾ka obsahuje neÅ¾Ã¡doucÃ­ znak novÃ©ho Å™Ã¡dku <code>LF</code> (<samp>0x0a</samp>).</p>
<div id="m4-messages_hello-ini-m4" class="m4-src"><pre># A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
âŸ¦$1âŸ§="$2"
divert(-1)
âŸ§)

divert(0)dnl
; DONTE()

<span class="m4-c">SARG1</span>(esyscmd(âŸ¦<span class="m4-d">date '+<span class="m4-b">âŸ¦[hello_%Y%m%d]âŸ§</span><span class="m4-a">,</span>'</span>âŸ§))
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/hello.ini.m4" title="messages/hello.ini.m4
date: 20201226 21:52:28
sha1sum: a7f4062
size: 168 B">hello.ini.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-ini-m4" title="âš“"></a></code></div>
<div id="m4-messages_hello-ini-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/hello.ini.m4" title="messages/hello.ini.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: a7f4062
size: 168 B">hello.ini.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/hello.ini" title="messages/hello.ini
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: e38f80a
size: 205 B">hello.ini</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-ini-command" title="âš“"></a></code></div>
<div id="m4-messages_hello-ini" class="m4-src"><pre>; DO NOT EDIT! This file is generated automatically!

[hello_20210118]
COMPLEX="!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~"
SUCCESS="Too complex M4 code failed successfully."
NO_FAULT="It's not a language fault!"</pre><code><span class="m4-sha">02f55b8</span><a href="../messages/hello.ini" title="messages/hello.ini
date: 20210118 19:23:51
sha1sum: e38f80a
size: 205 B">hello.ini</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_hello-ini" title="âš“"></a></code></div>
<h3 id="m4-hw-hex-pocitadlo" class="m4-ch"><a href="#m4-hw-hex-pocitadlo-toc" title="Obsah"></a><a href="#m4-hw-hex-pocitadlo" title="âš“">A.7</a><code>âŸ¦âŸ§</code> .h: hex poÄÃ­tadlo<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ makro <code class="m4-hgl" data-23="A,2">COUNTER</code> pro ÄÃ­slovÃ¡nÃ­ vÃ½slednÃ½ch <abbr title="Preprocesor jazyka C">CPP</abbr> <span class="m4-hgl" data-23="11" data-24="8-10">maker</span> a&nbsp;jednu vÃ½stupnÃ­ frontu.
Fronta ÄÃ­slo <code class="m4-hgl" data-23="23">1</code> obsahuje direktivu preprocesoru <code class="m4-hgl" data-23="24" data-24="12">#endif</code> pro zakonÄenÃ­ hlaviÄkovÃ©ho souboru.
PÅ™evod dekadickÃ© hodnoty poÄÃ­tadla na <span class="m4-hgl" data-23="B">dvoumÃ­stnÃ© hex-a ÄÃ­slo</span> provÃ¡dÃ­ klÃ­ÄovÃ© slovo <code class="m4-hgl" data-23="C">eval()</code>.</p>
<div id="m4-messages_messages-h-m4" class="m4-src"><pre># A â†’ Î²
define(âŸ¦<span class="m4-a">COUNTER</span>âŸ§, defn(âŸ¦COUNT_UPâŸ§))

# init counter
<span class="m4-a">COUNTER(0)</span>

# A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
âŸ¦#define $1		0xâŸ§<span class="m4-c">eval</span>(<span class="m4-a">COUNTER</span>, <span class="m4-b">16, 2</span>)
divert(-1)
âŸ§)

divert(0)dnl
/*
 * DONTE()
 */

#ifndef __ERROR_H
#define __ERROR_H

divert(1)
#endif /* __ERROR_H */
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/messages.h.m4" title="messages/messages.h.m4
date: 20201226 21:52:28
sha1sum: cc44faa
size: 304 B">messages.h.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-h-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-h-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../gfiles/countu.m4" title="gfiles/countu.m4
date: 20200429 07:34:47
git rev: 17cb82f
sha1sum: 83b97d7
size: 947 B">countu.m4</a> <a href="../messages/messages.h.m4" title="messages/messages.h.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: cc44faa
size: 304 B">messages.h.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/messages.h" title="messages/messages.h
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: a2f1f33
size: 190 B">messages.h</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-h-command" title="âš“"></a></code></div>
<div id="m4-messages_messages-h" class="m4-src"><pre>/*
 * DO NOT EDIT! This file is generated automatically!
 */

#ifndef __ERROR_H
#define __ERROR_H

#define COMPLEX		0x00
#define SUCCESS		0x01
#define NO_FAULT		0x02

#endif /* __ERROR_H */</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.h" title="messages/messages.h
date: 20210103 13:28:44
sha1sum: a2f1f33
size: 190 B">messages.h</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-h" title="âš“"></a></code></div>
<h3 id="m4-cw-maly-automat" class="m4-ch"><a href="#m4-cw-maly-automat-toc" title="Obsah"></a><a href="#m4-cw-maly-automat" title="âš“">A.8</a><code>âŸ¦âŸ§</code> C: malÃ½ automat<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ <span class="m4-hgl" data-25="1-4">malÃ½ automat</span> <code class="m4-hgl" data-25="7">NEW_LINE</code> pro generovÃ¡nÃ­ znaku novÃ©ho Å™Ã¡dku <code class="m4-hgl" data-25="A" data-26="A">\n</code> a&nbsp;jednu vÃ½stupnÃ­ frontu ÄÃ­slo <code class="m4-hgl" data-25="22">1</code> do kterÃ© se vloÅ¾Ã­ znaky <code class="m4-hgl" data-25="B">";</code> pro uzavÅ™enÃ­ vÃ½slednÃ©ho Å™etÄ›zce.
PoprvÃ© se <code class="m4-hgl" data-25="C">NEW_LINE</code> pÅ™epÃ­Å¡e na <abbr title="epsilon â€“ prÃ¡zdnÃ½ symbol"><code class="m4-hgl" data-25="D">Îµ</code></abbr>, podruhÃ© a dÃ¡le se pÅ™epÃ­Å¡e na <code class="m4-hgl" data-25="A" data-26="A">\n</code>.</p>
<div id="m4-messages_stringl-c-m4" class="m4-src"><pre>#     NEW_LINE automaton
#      ___      ____
# --->/ <span class="m4-d">Îµ</span> \--->/ <span class="m4-a">\n</span> \---.
#     \___/    \____/&lt;--'

# A â†’ Î²
define(âŸ¦NEW_LINEâŸ§, âŸ¦define(âŸ¦$0âŸ§, âŸ¦<span class="m4-a">\n</span>âŸ§)âŸ§)

# A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)<span class="m4-c">NEW_LINE</span>âŸ¦âŸ§$2âŸ¦âŸ§dnl
divert(-1)
âŸ§)

divert(0)dnl
/*
 * DONTE()
 */

char error[] =
"divert(1)<span class="m4-b">";</span>
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/stringl.c.m4" title="messages/stringl.c.m4
date: 20201226 21:52:28
sha1sum: daf85ec
size: 329 B">stringl.c.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_stringl-c-m4" title="âš“"></a></code></div>
<div id="m4-messages_stringl-c-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/stringl.c.m4" title="messages/stringl.c.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: daf85ec
size: 329 B">stringl.c.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/stringl.c" title="messages/stringl.c
date: 20200331 19:30:06
git rev: 9156810
sha1sum: dc45b92
size: 185 B">stringl.c</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_stringl-c-command" title="âš“"></a></code></div>
<div id="m4-messages_stringl-c" class="m4-src"><pre>/*
 * DO NOT EDIT! This file is generated automatically!
 */

char error[] =
"!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~<span class="m4-a">\n</span>Too complex M4 code failed successfully.<span class="m4-a">\n</span>It's not a language fault!";</pre><code><span class="m4-sha">9156810</span><a href="../messages/stringl.c" title="messages/stringl.c
date: 20200331 19:30:06
sha1sum: dc45b92
size: 185 B">stringl.c</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_stringl-c" title="âš“"></a></code></div>
<h3 id="m4-cw-maly-automat-2" class="m4-ch"><a href="#m4-cw-maly-automat-2-toc" title="Obsah"></a><a href="#m4-cw-maly-automat-2" title="âš“">A.9</a><code>âŸ¦âŸ§</code> C: malÃ½ automat 2<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Tento pÅ™Ã­klad je podobnÃ½ pÅ™edchozÃ­mu, avÅ¡ak kaÅ¾dÃ½ Å™etÄ›zec <span class="m4-hgl" data-27="A" data-28="A">je na novÃ©m Å™Ã¡dku</span>.</p>
<div id="m4-messages_string-c-m4" class="m4-src"><pre>#      NEW_LINE automaton
#      ___      _________
# --->/ Îµ \--->/ \n"\xa" \---.
#     \___/    \_________/&lt;--'

# A â†’ Î²
define(âŸ¦NEW_LINEâŸ§, âŸ¦define(âŸ¦$0âŸ§, âŸ¦<span class="m4-a">\n"
"</span>âŸ§)âŸ§)

# A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)NEW_LINEâŸ¦âŸ§$2âŸ¦âŸ§dnl
divert(-1)
âŸ§)

divert(0)dnl
/*
 * DONTE()
 */

char error[] =
"divert(1)";
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/string.c.m4" title="messages/string.c.m4
date: 20201226 21:52:28
sha1sum: 4b4d1b8
size: 348 B">string.c.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_string-c-m4" title="âš“"></a></code></div>
<div id="m4-messages_string-c-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/string.c.m4" title="messages/string.c.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 4b4d1b8
size: 348 B">string.c.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/string.c" title="messages/string.c
date: 20200331 19:30:06
git rev: 9156810
sha1sum: 76ca62e
size: 191 B">string.c</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_string-c-command" title="âš“"></a></code></div>
<div id="m4-messages_string-c" class="m4-src"><pre>/*
 * DO NOT EDIT! This file is generated automatically!
 */

char error[] =
"!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~<span class="m4-a">\n"
"</span>Too complex M4 code failed successfully.<span class="m4-a">\n"
"</span>It's not a language fault!";</pre><code><span class="m4-sha">9156810</span><a href="../messages/string.c" title="messages/string.c
date: 20200331 19:30:06
sha1sum: 76ca62e
size: 191 B">string.c</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_string-c" title="âš“"></a></code></div>
<h3 id="m4-htmlw-vystupni-fronty" class="m4-ch"><a href="#m4-htmlw-vystupni-fronty-toc" title="Obsah"></a><a href="#m4-htmlw-vystupni-fronty" title="âš“">A.10</a><code>âŸ¦âŸ§</code> HTML: vÃ½stupnÃ­ fronty<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ <span class="m4-hgl" data-29="9,27,29">dvÄ› vÃ½stupnÃ­ fronty</span>.
Fronta ÄÃ­slo <code class="m4-hgl" data-29="9,27">1</code> obsahuje <span class="m4-hgl" data-29="10" data-30="16-21">odstavce</span>,
fronta ÄÃ­slo <code class="m4-hgl" data-29="29">2</code> <span class="m4-hgl" data-29="30-31" data-30="22-23">uzavÃ­racÃ­ znaÄky HTML</span> strÃ¡nky.
<span class="m4-hgl" data-29="8" data-30="9-14">NavigaÄnÃ­ odkazy</span> nemusÃ­ bÃ½t nikde uloÅ¾eny, <span class="m4-hgl" data-29="7">jdou pÅ™Ã­mo na vÃ½stup</span>.
ZprÃ¡vy typu <code class="m4-hgl" data-29="15">QUERY</code> a&nbsp;<code class="m4-hgl" data-29="16">WARNING</code> jsou zpracovÃ¡ny stejnÄ› jako zprÃ¡vy typu <code class="m4-hgl" data-29="5-12">ERROR</code>.</p>
<div id="m4-messages_messages-html-m4" class="m4-src"><pre># vim:ft=m4

# A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
		âŸ¦&lt;li>$0: &lt;a href="#$1">$1&lt;/a>&lt;/li>âŸ§
divert(1)dnl
	&lt;p id="âŸ¦$1âŸ§">$2&lt;/p>
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§, defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

divert(0)dnl
&lt;!-- DONTE() -->
&lt;!doctype html>
&lt;html lang="en">
	&lt;meta charset="utf-8">
	&lt;title>__file__&lt;/title>
&lt;body>
	&lt;h1>The power of M4&lt;/h1>
	&lt;ul>
divert(1)dnl
	&lt;/ul>
divert(2)dnl
&lt;/body>
&lt;/html>
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/messages.html.m4" title="messages/messages.html.m4
date: 20201226 21:52:28
sha1sum: 3911284
size: 468 B">messages.html.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-html-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-html-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/messages.html.m4" title="messages/messages.html.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 3911284
size: 468 B">messages.html.m4</a> <a href="../messages/markup.m4" title="messages/markup.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: 98612ec
size: 256 B">markup.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/messages.html" title="messages/messages.html
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 20b155f
size: 866 B">messages.html</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-html-command" title="âš“"></a></code></div>
<div id="m4-messages_messages-html" class="m4-src"><pre>&lt;!-- DO NOT EDIT! This file is generated automatically! -->
&lt;!doctype html>
&lt;html lang="en">
	&lt;meta charset="utf-8">
	&lt;title>messages.html.m4&lt;/title>
&lt;body>
	&lt;h1>The power of M4&lt;/h1>
	&lt;ul>
		&lt;li>ERROR: &lt;a href="#COMPLEX">COMPLEX&lt;/a>&lt;/li>
		&lt;li>QUERY: &lt;a href="#READABLE">READABLE&lt;/a>&lt;/li>
		&lt;li>ERROR: &lt;a href="#SUCCESS">SUCCESS&lt;/a>&lt;/li>
		&lt;li>WARNING: &lt;a href="#ADDICTIVE">ADDICTIVE&lt;/a>&lt;/li>
		&lt;li>ERROR: &lt;a href="#NO_FAULT">NO_FAULT&lt;/a>&lt;/li>
		&lt;li>WARNING: &lt;a href="#NO_ERRORS">NO_ERRORS&lt;/a>&lt;/li>
	&lt;/ul>
	&lt;p id="COMPLEX">!"#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@[\]^_`{|}~&lt;/p>
	&lt;p id="READABLE">Is badly written M4 code readable [N/y]?&lt;/p>
	&lt;p id="SUCCESS">Too complex M4 code failed successfully.&lt;/p>
	&lt;p id="ADDICTIVE">Programming in M4 is addictive!&lt;/p>
	&lt;p id="NO_FAULT">It's not a language fault!&lt;/p>
	&lt;p id="NO_ERRORS">No other errors were found.&lt;/p>
&lt;/body>
&lt;/html></pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.html" title="messages/messages.html
date: 20210103 13:28:44
sha1sum: 20b155f
size: 866 B">messages.html</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-html" title="âš“"></a></code></div>
<h3 id="m4-vetveni-gramatikou" class="m4-ch"><a href="#m4-vetveni-gramatikou-toc" title="Obsah"></a><a href="#m4-vetveni-gramatikou" title="âš“">A.11</a><code>âŸ¦âŸ§</code> VÄ›tvenÃ­ gramatikou<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad ukazuje <a href="#m4-vetveni-gramatikou-zakladni-p" title="VÄ›tvenÃ­ gramatikou â€“ zÃ¡kladnÃ­ princip">vÄ›tvenÃ­ gramatikou</a>, argumenty maker se ignorujÃ­.
VstupnÃ­ neterminÃ¡ly se pÅ™episujÃ­ na terminÃ¡ly <code title="ğŸ›" class="m4-hgl" data-31="6,13" data-32="A">ERROR â†’ ğŸ›</code>,
<code title="ğŸœ" class="m4-hgl" data-31="6,14" data-32="B">QUERY â†’ ğŸœ</code>,
<code title="ğŸ" class="m4-hgl" data-31="6,15" data-32="C">WARNING â†’ ğŸ</code>.</p>
<div id="m4-messages_insect-txt-m4" class="m4-src"><pre># A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
$0_INSECTâŸ¦âŸ§dnl
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§,   defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))
define(âŸ¦ERROR_INSECTâŸ§,   âŸ¦ğŸ›âŸ§)
define(âŸ¦QUERY_INSECTâŸ§,   âŸ¦ğŸœâŸ§)
define(âŸ¦WARNING_INSECTâŸ§, âŸ¦ğŸâŸ§)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/insect.txt.m4" title="messages/insect.txt.m4
date: 20201226 21:52:28
sha1sum: ce656e5
size: 307 B">insect.txt.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_insect-txt-m4" title="âš“"></a></code></div>
<div id="m4-messages_insect-txt-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/insect.txt.m4" title="messages/insect.txt.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: ce656e5
size: 307 B">insect.txt.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/insect.txt" title="messages/insect.txt
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: a08c5e8
size: 24 B">insect.txt</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_insect-txt-command" title="âš“"></a></code></div>
<div id="m4-messages_insect-txt" class="m4-src"><pre><span class="m4-a">ğŸ›</span><span class="m4-b">ğŸœ</span><span class="m4-a">ğŸ›</span><span class="m4-c">ğŸ</span><span class="m4-a">ğŸ›</span><span class="m4-c">ğŸ</span></pre><code><span class="m4-sha">b53eafe</span><a href="../messages/insect.txt" title="messages/insect.txt
date: 20200106 16:21:10
sha1sum: a08c5e8
size: 24 B">insect.txt</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_insect-txt" title="âš“"></a></code></div>
<h4 id="m4-vetveni-gramatikou-zakladni-p" class="m4-bh"><a href="#m4-vetveni-gramatikou-zakladni-p" title="âš“"></a>VÄ›tvenÃ­ gramatikou â€“ zÃ¡kladnÃ­ princip<a href="#m4--toc" title="Nahoru"></a></h4>
<p>PromÄ›nnÃ¡ <code class="m4-hgl" data-33="A">$0</code> se nahradÃ­ za <span class="m4-hgl" data-33="B">jmÃ©no makra</span> a&nbsp;<span class="m4-hgl" data-33="C">zÅ™etÄ›zÃ­ se s&nbsp;dalÅ¡Ã­m symbolem</span>.
<span class="m4-hgl" data-33="B,C">NovÄ› vzniklÃ½ neterminÃ¡l</span> se pÅ™epÃ­Å¡e na odpovÃ­dajÃ­cÃ­ <span class="m4-hgl" data-33="D">terminÃ¡lnÃ­ symbol</span> (ÄÃ­slo fronty nebo jmÃ©no).</p>
<div id="m4-nonterminals-for-branches" title="vÄ›tvenÃ­ gramatikou v M4" class="m4-src"><pre><span class="m4-a">$0</span>_QU â†’ <span class="m4-b">ERROR</span><span class="m4-c">_QU</span> â†’ <span class="m4-d">2</span>
<span class="m4-a">$0</span>_END â†’ <span class="m4-b">ERROR</span><span class="m4-c">_END</span> â†’ <span class="m4-d">3</span>
<span class="m4-a">$0</span>_NAME â†’ <span class="m4-b">ERROR</span><span class="m4-c">_NAME</span> â†’ <span class="m4-d">error</span>
<span class="m4-a">$0</span>_QU â†’ <span class="m4-b">QUERY</span><span class="m4-c">_QU</span> â†’ <span class="m4-d">0</span>
<span class="m4-a">$0</span>_END â†’ <span class="m4-b">QUERY</span><span class="m4-c">_END</span> â†’ <span class="m4-d">1</span>
<span class="m4-a">$0</span>_NAME â†’ <span class="m4-b">QUERY</span><span class="m4-c">_NAME</span> â†’ <span class="m4-d">query</span>
â€¦</pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-nonterminals-for-branches" title="âš“"></a></code></div>
<h3 id="m4-jsonw-generujici-automat" class="m4-ch"><a href="#m4-jsonw-generujici-automat-toc" title="Obsah"></a><a href="#m4-jsonw-generujici-automat" title="âš“">A.12</a><code>âŸ¦âŸ§</code> JSON: generujÃ­cÃ­ automat<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ <span class="m4-hgl" data-34="14,30">dvÄ› vÃ½stupnÃ­ fronty</span> a&nbsp;jeden <span class="m4-hgl" data-34="1-3">generujÃ­cÃ­ automat</span>.
PrvnÃ­ chybovÃ¡ zprÃ¡va <code>ERROR(âŸ¦â€¦âŸ§)</code> ve stavu <code class="m4-hgl" data-34="6-17">ERROR</code> vygeneruje <span class="m4-hgl" data-34="12,15" data-35="3,7">zÃ¡hlavÃ­ se zÃ¡vorkami</span> a&nbsp;vypÃ­Å¡e <span class="m4-hgl" data-34="11">na vÃ½stup</span> <span class="m4-hgl" data-34="13" data-35="4">prvnÃ­ zÃ¡znam</span>.
<span class="m4-hgl" data-34="8,9">Automat pÅ™ejde</span> do stavu <code class="m4-hgl" data-34="20-25">NEXT_ITEM</code> coÅ¾ je <abbr title="takovÃ© pravidlo se pouÅ¾Ã­vÃ¡ jako pravÃ¡ strana jinÃ©ho pÅ™episovacÃ­ho pravidla"><code class="m4-hgl" data-34="19">Î²</code> pravidlo</abbr>.
NÃ¡sledujÃ­cÃ­ chybovÃ© zprÃ¡vy ve stavu <code class="m4-hgl" data-34="20-25">NEXT_ITEM</code> pouze <span class="m4-hgl" data-34="22">vypisujÃ­ na vÃ½stup</span> <span class="m4-hgl" data-34="23" data-35="5,6">jednotlivÃ© zÃ¡znamy</span>.
Na zÃ¡vÄ›r vÃ½stupnÃ­ fronty ÄÃ­slo <code class="m4-hgl" data-34="14">1</code> a&nbsp;<code class="m4-hgl" data-34="30">2</code> vypÃ­Å¡ou znaky <code class="m4-hgl" data-34="15" data-35="7">]</code> a&nbsp;<code class="m4-hgl" data-34="31" data-35="8">}}</code> ÄÃ­mÅ¾ zakonÄÃ­ vÃ½slednÃ½ JSON.</p>
<div id="m4-messages_atm-json-m4" class="m4-src"><pre>#      _______      ___________
# --->/ ERROR \--->/ NEXT_ITEM \---.
#     \_______/    \___________/&lt;--'

# A â†’ Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	# transition to the next node
	define(âŸ¦$0âŸ§, defn(âŸ¦NEXT_ITEMâŸ§))

	divert(0),
	"error": [
		{"âŸ¦$1âŸ§": "$2"}dnl
divert(1)
	]
divert(-1)
âŸ§)

# Î²
define(âŸ¦NEXT_ITEMâŸ§, âŸ¦

	divert(0),
		{"âŸ¦$1âŸ§": "$2"}dnl
divert(-1)
âŸ§)

divert(0)dnl
{"generating_automaton": {
	"_comment": "DONTE()"dnl
divert(2)dnl
}}
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/atm.json.m4" title="messages/atm.json.m4
date: 20201226 21:52:28
sha1sum: f09f617
size: 474 B">atm.json.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_atm-json-m4" title="âš“"></a></code></div>
<div id="m4-messages_atm-json-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/atm.json.m4" title="messages/atm.json.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: f09f617
size: 474 B">atm.json.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/atm.json" title="messages/atm.json
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 841e816
size: 269 B">atm.json</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_atm-json-command" title="âš“"></a></code></div>
<div id="m4-messages_atm-json" class="m4-src"><pre>{"generating_automaton": {
	"_comment": "DO NOT EDIT! This file is generated automatically!",
	"error": [
		{"COMPLEX": "!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~"},
		{"SUCCESS": "Too complex M4 code failed successfully."},
		{"NO_FAULT": "It's not a language fault!"}
	]
}}</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/atm.json" title="messages/atm.json
date: 20210103 13:28:44
sha1sum: 841e816
size: 269 B">atm.json</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_atm-json" title="âš“"></a></code></div>
<h4 id="m4-jsonw-pojmenovane-fronty" class="m4-ch"><a href="#m4-jsonw-pojmenovane-fronty-toc" title="Obsah"></a><a href="#m4-jsonw-pojmenovane-fronty" title="âš“">A.12.1</a><code>âŸ¦âŸ§</code> JSON: pojmenovanÃ© fronty<a href="#m4--toc" title="Nahoru"></a></h4>
<p>PÅ™Ã­klad zpracovÃ¡vÃ¡ dalÅ¡Ã­ zprÃ¡vy typu <code>QUERY</code> a&nbsp;<code>WARNING</code>.
PouÅ¾Ã­vÃ¡ tÅ™i automaty a&nbsp;Å¡est vÃ½stupnÃ­ch front.
Generujeme-li sloÅ¾itÄ›jÅ¡Ã­ zdrojovÃ½ kÃ³d, brzy narazÃ­me na problÃ©m udrÅ¾enÃ­ konzistence indexÅ¯ pro vÃ½stupnÃ­ fronty.
Abychom se vyhnuli zmatku, pojmenujeme si fronty a&nbsp;mÃ­sto ÄÃ­sel pouÅ¾Ã­vÃ¡me jmÃ©na.
Abychom nemuseli definovat podobnÃ¡ pravidla, zkopÃ­rujeme si pravou stranu <code>ERROR</code> (je to takÃ© <abbr title="takovÃ© pravidlo se pouÅ¾Ã­vÃ¡ jako pravÃ¡ strana jinÃ©ho pÅ™episovacÃ­ho pravidla"><code class="m4-hgl" data-36="21">Î²</code> pravidlo</abbr>) do pravÃ© strany pravidel <code>QUERY</code> a&nbsp;<code>WARNING</code>.</p>
<div id="m4-messages_qnames-json-m4" class="m4-src"><pre># DO NOT WRITE INDEXES MANUALLY, use counter!
define(âŸ¦QUERY_QUâŸ§,     0)
define(âŸ¦QUERY_ENDâŸ§,    1)
define(âŸ¦ERROR_QUâŸ§,     2)
define(âŸ¦ERROR_ENDâŸ§,    3)
define(âŸ¦WARNING_QUâŸ§,   4)
define(âŸ¦WARNING_ENDâŸ§,  5)
define(âŸ¦LAST_QUEUEâŸ§,   6)

# names of message types
define(âŸ¦WARNING_NAMEâŸ§, âŸ¦warningâŸ§)
define(âŸ¦ERROR_NAMEâŸ§,   âŸ¦errorâŸ§)
define(âŸ¦QUERY_NAMEâŸ§,   âŸ¦queryâŸ§)

#      _________      ___________
# --->/  ERROR  \--->/ NEXT_ITEM \---.
#     |  QUERY  |    \___________/&lt;--'
#     \_WARNING_/

# A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	# transition to the next node
	define(âŸ¦$0âŸ§, defn(âŸ¦NEXT_ITEMâŸ§))

	divert($0_QU),
	"$0_NAME": [
		{"âŸ¦$1âŸ§": "$2"}dnl
divert($0_END)
	]dnl
divert(-1)
âŸ§)

# Î²
define(âŸ¦NEXT_ITEMâŸ§, âŸ¦

	divert($0_QU),
		{"âŸ¦$1âŸ§": "$2"}dnl
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§,        defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§,      defn(âŸ¦ERRORâŸ§))

divert(0)dnl
{"queue_names": {
	"_comment": "DONTE()"dnl
divert(LAST_QUEUE)
}}
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/qnames.json.m4" title="messages/qnames.json.m4
date: 20201226 21:52:28
sha1sum: 1e3b868
size: 1027 B">qnames.json.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_qnames-json-m4" title="âš“"></a></code></div>
<div id="m4-messages_qnames-json-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/qnames.json.m4" title="messages/qnames.json.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 1e3b868
size: 1027 B">qnames.json.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/qnames.json" title="messages/qnames.json
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 3c39e26
size: 452 B">qnames.json</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_qnames-json-command" title="âš“"></a></code></div>
<div id="m4-messages_qnames-json" class="m4-src"><pre>{"queue_names": {
	"_comment": "DO NOT EDIT! This file is generated automatically!",
	"query": [
		{"READABLE": "Is badly written M4 code readable [N/y]?"}
	],
	"error": [
		{"COMPLEX": "!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~"},
		{"SUCCESS": "Too complex M4 code failed successfully."},
		{"NO_FAULT": "It's not a language fault!"}
	],
	"warning": [
		{"ADDICTIVE": "Programming in M4 is addictive!"},
		{"NO_ERRORS": "No other errors were found."}
	]
}}</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/qnames.json" title="messages/qnames.json
date: 20210103 13:28:44
sha1sum: 3c39e26
size: 452 B">qnames.json</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_qnames-json" title="âš“"></a></code></div>
<h4 id="m4-jsonw-generovane-indexy-front" class="m4-ch"><a href="#m4-jsonw-generovane-indexy-front-toc" title="Obsah"></a><a href="#m4-jsonw-generovane-indexy-front" title="âš“">A.12.2</a><code>âŸ¦âŸ§</code> JSON: generovanÃ© indexy front<a href="#m4--toc" title="Nahoru"></a></h4>
<p>BÄ›hem vÃ½voje se Äasto mÄ›nÃ­ poÅ™adÃ­ a&nbsp;poÄet vÃ½stupnÃ­ch front, coÅ¾ takÃ© vyÅ¾aduje Äastou zmÄ›nu jejich indexÅ¯.
<span class="m4-hgl" data-38="A">Indexy je proto vhodnÃ© generovat</span>.
MÅ¯Å¾eme pak pouÅ¾Ã­vat prakticky neomezenÃ½ poÄet front.
NÃ¡sledujÃ­cÃ­ pÅ™Ã­klad ukazuje, jak se tyto indexy generujÃ­.</p>
<div id="m4-messages_queues-m4" class="m4-src"><pre># defines a counter for output queues
# A â†’ Î²
define(âŸ¦QUEUE_INDEXâŸ§, defn(âŸ¦COUNT_UPâŸ§))

# index of the first output queue (0 is stdout)
QUEUE_INDEX(0)

# symbolic names for indices of output queues
# A â†’ Î²
define(âŸ¦QUERY_QUâŸ§,     <span class="m4-a">QUEUE_INDEX</span>)
define(âŸ¦QUERY_ENDâŸ§,    <span class="m4-a">QUEUE_INDEX</span>)
define(âŸ¦ERROR_QUâŸ§,     <span class="m4-a">QUEUE_INDEX</span>)
define(âŸ¦ERROR_ENDâŸ§,    <span class="m4-a">QUEUE_INDEX</span>)
define(âŸ¦WARNING_QUâŸ§,   <span class="m4-a">QUEUE_INDEX</span>)
define(âŸ¦WARNING_ENDâŸ§,  <span class="m4-a">QUEUE_INDEX</span>)
# Keep it last!
define(âŸ¦LAST_QUEUEâŸ§,   <span class="m4-a">QUEUE_INDEX</span>)

# names of message types
# A â†’ Î²
define(âŸ¦WARNING_NAMEâŸ§, âŸ¦warningâŸ§)
define(âŸ¦ERROR_NAMEâŸ§,   âŸ¦errorâŸ§)
define(âŸ¦QUERY_NAMEâŸ§,   âŸ¦queryâŸ§)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/queues.m4" title="messages/queues.m4
date: 20201226 21:52:28
sha1sum: 79f498c
size: 674 B">queues.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_queues-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-json-m4" class="m4-src"><pre>#      _________      ___________
# --->/  ERROR  \--->/ NEXT_ITEM \---.
#     |  QUERY  |    \___________/&lt;--'
#     \_WARNING_/

# A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	# transition to the next node
	define(âŸ¦$0âŸ§, defn(âŸ¦NEXT_ITEMâŸ§))

	divert($0_QU),
	"$0_NAME": [
		{"âŸ¦$1âŸ§": "$2"}dnl
divert($0_END)
	]dnl
divert(-1)
âŸ§)

# Î²
define(âŸ¦NEXT_ITEMâŸ§, âŸ¦

	divert($0_QU),
		{"âŸ¦$1âŸ§": "$2"}dnl
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§,   defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

divert(0)dnl
{"messages": {
	"_comment": "DONTE()"dnl
divert(LAST_QUEUE)
}}
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/messages.json.m4" title="messages/messages.json.m4
date: 20201226 21:52:28
sha1sum: f74c194
size: 609 B">messages.json.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-json-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-json-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../gfiles/countu.m4" title="gfiles/countu.m4
date: 20200429 07:34:47
git rev: 17cb82f
sha1sum: 83b97d7
size: 947 B">countu.m4</a> <a href="../messages/queues.m4" title="messages/queues.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 79f498c
size: 674 B">queues.m4</a> <a href="../messages/messages.json.m4" title="messages/messages.json.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: f74c194
size: 609 B">messages.json.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/messages.json" title="messages/messages.json
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: cc6ff19
size: 449 B">messages.json</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-json-command" title="âš“"></a></code></div>
<div id="m4-messages_messages-json" class="m4-src"><pre>{"messages": {
	"_comment": "DO NOT EDIT! This file is generated automatically!",
	"query": [
		{"READABLE": "Is badly written M4 code readable [N/y]?"}
	],
	"error": [
		{"COMPLEX": "!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~"},
		{"SUCCESS": "Too complex M4 code failed successfully."},
		{"NO_FAULT": "It's not a language fault!"}
	],
	"warning": [
		{"ADDICTIVE": "Programming in M4 is addictive!"},
		{"NO_ERRORS": "No other errors were found."}
	]
}}</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.json" title="messages/messages.json
date: 20210103 13:28:44
sha1sum: cc6ff19
size: 449 B">messages.json</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-json" title="âš“"></a></code></div>
<h3 id="m4-iniw-nespojity-index-front" class="m4-ch"><a href="#m4-iniw-nespojity-index-front-toc" title="Obsah"></a><a href="#m4-iniw-nespojity-index-front" title="âš“">A.13</a><code>âŸ¦âŸ§</code> INI: nespojitÃ½ index front<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ <span class="m4-hgl" data-41="1-4">tÅ™i automaty</span> a&nbsp;dvÄ› vÃ½stupnÃ­ fronty ÄÃ­slo <code class="m4-hgl" data-41="10,26">2</code> a&nbsp;<code class="m4-hgl" data-41="10,26">4</code> definovanÃ© v&nbsp;oddÄ›lenÃ©m souboru.
<span class="m4-hgl" data-41="11" data-42="3,6,11">NÃ¡zvy INI sekcÃ­</span> jsou generovÃ¡ny <span class="m4-hgl" data-41="A,R">Å™etÄ›zenÃ­m symbolÅ¯</span> (viz. <a href="#m4-vetveni-gramatikou-zakladni-p" title="VÄ›tvenÃ­ gramatikou â€“ zÃ¡kladnÃ­ princip">vÄ›tvenÃ­</a>).
PÅ™Ã­klad pouÅ¾Ã­vÃ¡ stejnÃ½ soubor pro vÃ½stupnÃ­ fronty jako <a href="#m4-jsonw-generovane-indexy-front" title="âŸ¦âŸ§ JSON: generovanÃ© indexy front">pÅ™Ã­klad</a> pro generovÃ¡nÃ­ JSON.</p>
<div id="m4-messages_messages-ini-m4" class="m4-src"><pre>#      _________      ___________
# --->/  ERROR  \--->/ NEXT_ITEM \---.
#     |  QUERY  |    \___________/&lt;--'
#     \_WARNING_/

# A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert($0_QU)
[<span class="m4-r">$0</span><span class="m4-a">_NAME</span>]
âŸ¦$1âŸ§="$2"
divert(-1)

	# transition to the next node
	define(âŸ¦$0âŸ§, defn(âŸ¦NEXT_ITEMâŸ§))
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§,   defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

# Î²
define(âŸ¦NEXT_ITEMâŸ§, âŸ¦

	divert($0_QU)dnl
âŸ¦$1âŸ§="$2"
divert(-1)
âŸ§)

divert(0)dnl
; DONTE()
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/messages.ini.m4" title="messages/messages.ini.m4
date: 20201226 21:52:28
sha1sum: fb8782f
size: 512 B">messages.ini.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-ini-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-ini-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/messages.ini.m4" title="messages/messages.ini.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: fb8782f
size: 512 B">messages.ini.m4</a> <a href="../gfiles/countu.m4" title="gfiles/countu.m4
date: 20200429 07:34:47
git rev: 17cb82f
sha1sum: 83b97d7
size: 947 B">countu.m4</a> <a href="../messages/queues.m4" title="messages/queues.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 79f498c
size: 674 B">queues.m4</a> <a href="../messages/code.m4" title="messages/code.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: d709e07
size: 248 B">code.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/messages.ini" title="messages/messages.ini
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: cf65110
size: 352 B">messages.ini</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-ini-command" title="âš“"></a></code></div>
<div id="m4-messages_messages-ini" class="m4-src"><pre>; DO NOT EDIT! This file is generated automatically!

[query]
READABLE="Is badly written M4 code readable [N/y]?"

[error]
COMPLEX="!\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_`{|}~"
SUCCESS="Too complex M4 code failed successfully."
NO_FAULT="It's not a language fault!"

[warning]
ADDICTIVE="Programming in M4 is addictive!"
NO_ERRORS="No other errors were found."</pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.ini" title="messages/messages.ini
date: 20210103 13:28:44
sha1sum: cf65110
size: 352 B">messages.ini</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-ini" title="âš“"></a></code></div>
<h3 id="m4-xmlw-smisene-zpravy" class="m4-ch"><a href="#m4-xmlw-smisene-zpravy-toc" title="Obsah"></a><a href="#m4-xmlw-smisene-zpravy" title="âš“">A.14</a><code>âŸ¦âŸ§</code> XML: smÃ­Å¡enÃ© zprÃ¡vy<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad pouÅ¾Ã­vÃ¡ jednu vÃ½stupnÃ­ frontu ÄÃ­slo <code class="m4-hgl" data-43="21">1</code> pro uzavÃ­racÃ­ znaÄku <code class="m4-hgl" data-43="22" data-44="28">&lt;/messages&gt;</code>.</p>
<div id="m4-messages_mixed-xml-m4" class="m4-src"><pre># A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
	&lt;$0_NAME>
		&lt;name>âŸ¦$1âŸ§&lt;/name>
		&lt;value>$2&lt;/value>
	&lt;/$0_NAME>
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§, defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

divert(0)dnl
&lt;!-- DONTE() -->
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;messages>
divert(1)dnl
&lt;/messages>
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/mixed.xml.m4" title="messages/mixed.xml.m4
date: 20201226 21:52:28
sha1sum: d43ef91
size: 347 B">mixed.xml.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_mixed-xml-m4" title="âš“"></a></code></div>
<div id="m4-messages_mixed-xml-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/queues.m4" title="messages/queues.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 79f498c
size: 674 B">queues.m4</a> <a href="../messages/mixed.xml.m4" title="messages/mixed.xml.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: d43ef91
size: 347 B">mixed.xml.m4</a> <a href="../messages/markup.m4" title="messages/markup.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: 98612ec
size: 256 B">markup.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/mixed.xml" title="messages/mixed.xml
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: b907138
size: 702 B">mixed.xml</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_mixed-xml-command" title="âš“"></a></code></div>
<div id="m4-messages_mixed-xml" class="m4-src"><pre>&lt;!-- DO NOT EDIT! This file is generated automatically! -->
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;messages>
	&lt;error>
		&lt;name>COMPLEX&lt;/name>
		&lt;value>!"#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@[\]^_`{|}~&lt;/value>
	&lt;/error>
	&lt;query>
		&lt;name>READABLE&lt;/name>
		&lt;value>Is badly written M4 code readable [N/y]?&lt;/value>
	&lt;/query>
	&lt;error>
		&lt;name>SUCCESS&lt;/name>
		&lt;value>Too complex M4 code failed successfully.&lt;/value>
	&lt;/error>
	&lt;warning>
		&lt;name>ADDICTIVE&lt;/name>
		&lt;value>Programming in M4 is addictive!&lt;/value>
	&lt;/warning>
	&lt;error>
		&lt;name>NO_FAULT&lt;/name>
		&lt;value>It's not a language fault!&lt;/value>
	&lt;/error>
	&lt;warning>
		&lt;name>NO_ERRORS&lt;/name>
		&lt;value>No other errors were found.&lt;/value>
	&lt;/warning>
&lt;/messages></pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/mixed.xml" title="messages/mixed.xml
date: 20210103 13:28:44
sha1sum: b907138
size: 702 B">mixed.xml</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_mixed-xml" title="âš“"></a></code></div>
<h3 id="m4-xmlw-oddelene-zpravy" class="m4-ch"><a href="#m4-xmlw-oddelene-zpravy-toc" title="Obsah"></a><a href="#m4-xmlw-oddelene-zpravy" title="âš“">A.15</a><code>âŸ¦âŸ§</code> XML: oddÄ›lenÃ© zprÃ¡vy<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PÅ™Ã­klad seskupuje zprÃ¡vy podle jejich typu pomocÃ­ vÃ½stupnÃ­ch front.</p>
<div id="m4-messages_messages-xml-m4" class="m4-src"><pre># A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	# transition to the next node
	define(âŸ¦$0âŸ§, defn(âŸ¦NEXT_ITEMâŸ§))

	divert($0_QU)dnl
	&lt;$0_NAME>
		&lt;item>
			&lt;name>âŸ¦$1âŸ§&lt;/name>
			&lt;value>$2&lt;/value>
		&lt;/item>
divert($0_END)dnl
	&lt;/$0_NAME>
divert(-1)
âŸ§)

# Î²
define(âŸ¦NEXT_ITEMâŸ§, âŸ¦

	divert($0_QU)dnl
		&lt;item>
			&lt;name>âŸ¦$1âŸ§&lt;/name>
			&lt;value>$2&lt;/value>
		&lt;/item>
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§,        defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§,      defn(âŸ¦ERRORâŸ§))

divert(0)dnl
&lt;!-- DONTE() -->
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;messages>
divert(LAST_QUEUE)dnl
&lt;/messages>
divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/messages.xml.m4" title="messages/messages.xml.m4
date: 20201226 21:52:28
sha1sum: bea84ce
size: 618 B">messages.xml.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-xml-m4" title="âš“"></a></code></div>
<div id="m4-messages_messages-xml-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/queues.m4" title="messages/queues.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 79f498c
size: 674 B">queues.m4</a> <a href="../messages/messages.xml.m4" title="messages/messages.xml.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: bea84ce
size: 618 B">messages.xml.m4</a> <a href="../messages/markup.m4" title="messages/markup.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: 98612ec
size: 256 B">markup.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/messages.xml" title="messages/messages.xml
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: 038f4ab
size: 767 B">messages.xml</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-xml-command" title="âš“"></a></code></div>
<div id="m4-messages_messages-xml" class="m4-src"><pre>&lt;!-- DO NOT EDIT! This file is generated automatically! -->
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;messages>
	&lt;query>
		&lt;item>
			&lt;name>READABLE&lt;/name>
			&lt;value>Is badly written M4 code readable [N/y]?&lt;/value>
		&lt;/item>
	&lt;/query>
	&lt;error>
		&lt;item>
			&lt;name>COMPLEX&lt;/name>
			&lt;value>!"#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@[\]^_`{|}~&lt;/value>
		&lt;/item>
		&lt;item>
			&lt;name>SUCCESS&lt;/name>
			&lt;value>Too complex M4 code failed successfully.&lt;/value>
		&lt;/item>
		&lt;item>
			&lt;name>NO_FAULT&lt;/name>
			&lt;value>It's not a language fault!&lt;/value>
		&lt;/item>
	&lt;/error>
	&lt;warning>
		&lt;item>
			&lt;name>ADDICTIVE&lt;/name>
			&lt;value>Programming in M4 is addictive!&lt;/value>
		&lt;/item>
		&lt;item>
			&lt;name>NO_ERRORS&lt;/name>
			&lt;value>No other errors were found.&lt;/value>
		&lt;/item>
	&lt;/warning>
&lt;/messages></pre><code><span class="m4-sha">55ac1ea</span><a href="../messages/messages.xml" title="messages/messages.xml
date: 20210103 13:28:44
sha1sum: 038f4ab
size: 767 B">messages.xml</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_messages-xml" title="âš“"></a></code></div>
<h3 id="m4-bash-echo-dretezecd" class="m4-ch"><a href="#m4-bash-echo-dretezecd-toc" title="Obsah"></a><a href="#m4-bash-echo-dretezecd" title="âš“">A.16</a><code>âŸ¦âŸ§</code> Bash <code>$ echo &quot;Å™etÄ›zec&quot;</code><a href="#m4--toc" title="Nahoru"></a></h3>
<div id="m4-messages_doubleq-sh-m4" class="m4-src"><pre># A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
echo "$2"
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§, defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

divert(0)dnl
#!/bin/bash
#
âŸ¦#âŸ§ DONTE()

divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/doubleq.sh.m4" title="messages/doubleq.sh.m4
date: 20201226 21:52:28
sha1sum: 8de61d2
size: 229 B">doubleq.sh.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_doubleq-sh-m4" title="âš“"></a></code></div>
<div id="m4-messages_doubleq-sh-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/doubleq.sh.m4" title="messages/doubleq.sh.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 8de61d2
size: 229 B">doubleq.sh.m4</a> <a href="../messages/doubleq.m4" title="messages/doubleq.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: c94b763
size: 252 B">doubleq.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/doubleq.sh" title="messages/doubleq.sh
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: 747c4db
size: 324 B">doubleq.sh</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_doubleq-sh-command" title="âš“"></a></code></div>
<div id="m4-messages_doubleq-sh" class="m4-src"><pre>#!/bin/bash
#
# DO NOT EDIT! This file is generated automatically!

echo ""\!"\"#$%&amp;'()*+,-./:;&lt;=>?@[\\]^_\`{|}~"
echo "Is badly written M4 code readable [N/y]?"
echo "Too complex M4 code failed successfully."
echo "Programming in M4 is addictive"\!""
echo "It's not a language fault"\!""
echo "No other errors were found."</pre><code><span class="m4-sha">d2707ad</span><a href="../messages/doubleq.sh" title="messages/doubleq.sh
date: 20201226 22:38:15
sha1sum: 747c4db
size: 324 B">doubleq.sh</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_doubleq-sh" title="âš“"></a></code></div>
<h3 id="m4-bash-echo-aretezeca" class="m4-ch"><a href="#m4-bash-echo-aretezeca-toc" title="Obsah"></a><a href="#m4-bash-echo-aretezeca" title="âš“">A.17</a><code>âŸ¦âŸ§</code> Bash <code>$ echo 'Å™etÄ›zec'</code><a href="#m4--toc" title="Nahoru"></a></h3>
<div id="m4-messages_apost-sh-m4" class="m4-src"><pre># A â†’ Î²
# Î²
define(âŸ¦ERRORâŸ§, âŸ¦

	divert(0)dnl
echo '$2'
divert(-1)
âŸ§)

# A â†’ Î²
define(âŸ¦QUERYâŸ§, defn(âŸ¦ERRORâŸ§))
define(âŸ¦WARNINGâŸ§, defn(âŸ¦ERRORâŸ§))

divert(0)dnl
#!/bin/bash
#
âŸ¦#âŸ§ DONTE()

divert(-1)</pre><code><span class="m4-sha">24fd4f3</span><a href="../messages/apost.sh.m4" title="messages/apost.sh.m4
date: 20201226 21:52:28
sha1sum: 6c78a02
size: 229 B">apost.sh.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_apost-sh-m4" title="âš“"></a></code></div>
<div id="m4-messages_apost-sh-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../messages/apost.sh.m4" title="messages/apost.sh.m4
date: 20201226 21:52:28
git rev: 24fd4f3
sha1sum: 6c78a02
size: 229 B">apost.sh.m4</a> <a href="../messages/apost.m4" title="messages/apost.m4
date: 20201226 22:38:15
git rev: d2707ad
sha1sum: e7eec73
size: 249 B">apost.m4</a> <a href="../messages/messages.mc" title="messages/messages.mc
date: 20210103 13:28:44
git rev: 55ac1ea
sha1sum: c6496e4
size: 535 B">messages.mc</a> > <a href="../messages/apost.sh" title="messages/apost.sh
date: 20201225 10:46:17
git rev: 5964776
sha1sum: 854fc6e
size: 318 B">apost.sh</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_apost-sh-command" title="âš“"></a></code></div>
<div id="m4-messages_apost-sh" class="m4-src"><pre>#!/bin/bash
#
# DO NOT EDIT! This file is generated automatically!

echo '!"#$%&amp;'\''()*+,-./:;&lt;=>?@[\]^_`{|}~'
echo 'Is badly written M4 code readable [N/y]?'
echo 'Too complex M4 code failed successfully.'
echo 'Programming in M4 is addictive!'
echo 'It'\''s not a language fault!'
echo 'No other errors were found.'</pre><code><span class="m4-sha">5964776</span><a href="../messages/apost.sh" title="messages/apost.sh
date: 20201225 10:46:17
sha1sum: 854fc6e
size: 318 B">apost.sh</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-messages_apost-sh" title="âš“"></a></code></div>
<h2 id="m4-priklady-preprocesoru" class="m4-ch"><a href="#m4-priklady-preprocesoru-toc" title="Obsah"></a><a href="#m4-priklady-preprocesoru" title="âš“">B</a>PÅ™Ã­klady preprocesoru<a href="#m4--toc" title="Nahoru"></a></h2>
<div title="pro informaci" class="rs-tip-major m4-info">Znaky {<code title="uvozovky" class="m4-xp">`'</code>, <code title="hranatÃ© zÃ¡vorky" class="m4-xp">[]</code>, <code title="netisknutelnÃ© znaky" class="m4-xp">â‚â†</code>, <code title="UTF-8 znaky" class="m4-xp">âŸ¦âŸ§</code>} v&nbsp;nÃ¡zvu pÅ™Ã­kladu <a href="../generovani-kodu-v-m4-uvod/preview.html#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­dÃ­ expanzi neterminÃ¡lÅ¯</a>.</div>
<p id="m4-ba-preprocesor-jazyka-c-a-m4-toc" class="m4-l2"><a href="#m4-ba-preprocesor-jazyka-c-a-m4"><b>B.1</b><code>`'</code> Preprocesor jazyka C&nbsp;a&nbsp;M4</a></p>
<p id="m4-ba-cssw-vlozeni-souboru-komen-toc" class="m4-l2"><a href="#m4-ba-cssw-vlozeni-souboru-komen"><b>B.2</b><code>`'</code> CSS: vloÅ¾enÃ­ souboru, komentÃ¡Å™</a></p>
<p id="m4-bashw-netisknutelne-znaky-toc" class="m4-l2"><a href="#m4-bashw-netisknutelne-znaky"><b>B.3</b><b><code>â‚â†</code></b> Bash: netisknutelnÃ© znaky</a></p>
<h3 id="m4-ba-preprocesor-jazyka-c-a-m4" class="m4-ch"><a href="#m4-ba-preprocesor-jazyka-c-a-m4-toc" title="Obsah"></a><a href="#m4-ba-preprocesor-jazyka-c-a-m4" title="âš“">B.1</a><code>`'</code> Preprocesor jazyka C&nbsp;a&nbsp;M4<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Direktivy <a href="https://cs.wikipedia.org/wiki/Preprocesor_jazyka_C" title="Preprocesor jazyka C">CPP</a> jsou pro M4 jednoÅ™Ã¡dkovÃ½ komentÃ¡Å™, coÅ¾ brÃ¡nÃ­ neÅ¾Ã¡doucÃ­ expanzi stejnÄ› pojmenovanÃ½ch maker.
Definujeme-li bezpeÄnÄ›jÅ¡Ã­ makro <code class="m4-hgl" data-51="5" data-52="12">SAF()</code>, stejnÄ› pojmenovanÃ© makro <code class="m4-hgl" data-52="8,11">SAF ()</code> nebude pÅ™epsÃ¡no.
JmennÃ½ prostor <abbr title="Preprocesor jazyka C">CPP</abbr> tak <b>mÅ¯Å¾e</b> bÃ½t zcela oddÄ›len od jmennÃ©ho prostoru M4.
ProblematickÃ½ znak <code>`</code> je skryt do makra <code class="m4-hgl" data-52="24">LL()</code>.
Apostrof <code class="m4-hgl" data-52="A" data-53="A">'</code> ve zdrojovÃ©m kÃ³du niÄemu nevadÃ­.
Apostrof uvnitÅ™ makra <code class="m4-hgl" data-51="4" data-52="B">ORD<s style="color:red"><span style="color:rgba(0,0,0,.75)">()</span></s></code> je skryt do makra <code class="m4-hgl" data-51="A">RR()</code>.
VÅ¡imnÄ›te si jmen funkcÃ­ <code class="m4-hgl" data-52="17,27" data-53="17,27">define ()</code> nebo <code class="m4-hgl" data-52="18,28" data-53="18,28">ifelse ()</code> a&nbsp;kde je expandovÃ¡n <code class="m4-hgl" data-52="C" data-53="C" data-51="C">SYMBOL</code>.</p>
<div id="m4-preproc_file-c-m4" class="m4-src"><pre># ORDinary and SAFe macros have different expansion:

# A â†’ Î²
define(`ORD', `$0_M4 <span class="m4-a">RR()</span><span class="m4-c">SYMBOL</span>`'<span class="m4-a">RR()</span>')
define(`SAF', `ifelse(`$#', `0', ``$0'', `($1) * ($1)	/* $0_M4 <span class="m4-c">SYMBOL</span> */')')

divert(0)dnl</pre><code><span class="m4-sha">cf9fdc8</span><a href="../preproc/file.c.m4" title="preproc/file.c.m4
date: 20210110 15:33:50
sha1sum: 7e01510
size: 196 B">file.c.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-c-m4" title="âš“"></a></code></div>
<div id="m4-preproc_file-c" class="m4-src"><pre>/*
 * DONTE()
 */

#include &lt;stdio.h>	/* CPP <span class="m4-c">SYMBOL</span> */

#define <span class="m4-c">SYMBOL</span>		/* CPP <span class="m4-c">SYMBOL</span> */
#define SAF(x)		((x) * ((x) - 1))	/* CPP <span class="m4-c">SYMBOL</span> */
#define ORD(x)		CPP <span class="m4-c">SYMBOL</span> x

int a = SAF (1 + 1);	/* CPP */
int b = SAF(2 + 2);	/* M4 */
char chr = <span class="m4-a">'</span>x<span class="m4-a">'</span>;
char foo[] = "Let<span class="m4-a">'</span>s say: <span class="m4-a">'</span><span class="m4-c">SYMBOL</span><span class="m4-a">'</span>";
char bar[] = "<span class="m4-b">ORD</span> (args, are, ignored)";

static void define (char *s) { puts(s);}
static void ifelse (char *s) { puts(s);}

int main(void)
{

#ifdef <span class="m4-c">SYMBOL</span>			/* <span class="m4-c">SYMBOL</span> */
	puts("LL()<span class="m4-c">SYMBOL</span><span class="m4-a">'</span>");	/* note: `LL()<span class="m4-c">SYMBOL</span><span class="m4-a">'</span> */
#endif

	define (foo);		/* <span class="m4-c">SYMBOL</span> */
	ifelse (bar);		/* <span class="m4-c">SYMBOL</span>() */

	return 0;
}</pre><code><span class="m4-sha">cf9fdc8</span><a href="../preproc/file.c" title="preproc/file.c
date: 20210110 15:33:50
sha1sum: 1fe5bfc
size: 583 B">file.c</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-c" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-c-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0q.m4" title="gfiles/root0q.m4
date: 20210110 15:33:50
git rev: cf9fdc8
sha1sum: eb74312
size: 1154 B">root0q.m4</a> <a href="../preproc/file.c.m4" title="preproc/file.c.m4
date: 20210110 15:33:50
git rev: cf9fdc8
sha1sum: 7e01510
size: 196 B">file.c.m4</a> <a href="../preproc/file.c" title="preproc/file.c
date: 20210110 15:33:50
git rev: cf9fdc8
sha1sum: 1fe5bfc
size: 583 B">file.c</a> > <a href="../preproc/preproc.file.c" title="preproc/preproc.file.c
date: 20210110 15:33:50
git rev: cf9fdc8
sha1sum: 041f49a
size: 700 B">preproc.file.c</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-c-command" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-c" class="m4-src"><pre>/*
 * DO NOT EDIT! This file is generated automatically!
 */

#include &lt;stdio.h>	/* CPP <span class="m4-c">SYMBOL</span> */

#define <span class="m4-c">SYMBOL</span>		/* CPP <span class="m4-c">SYMBOL</span> */
#define SAF(x)		((x) * ((x) - 1))	/* CPP <span class="m4-c">SYMBOL</span> */
#define ORD(x)		CPP <span class="m4-c">SYMBOL</span> x

int a = SAF (1 + 1);	/* CPP */
int b = (2 + 2) * (2 + 2)	/* SAF_M4 Hello, world! */;	/* M4 */
char chr = <span class="m4-a">'</span>x<span class="m4-a">'</span>;
char foo[] = "Let<span class="m4-a">'</span>s say: <span class="m4-a">'</span>Hello, world!<span class="m4-a">'</span>";
char bar[] = "ORD_M4 <span class="m4-a">'</span>Hello, world!<span class="m4-a">'</span> (args, are, ignored)";

static void define (char *s) { puts(s);}
static void ifelse (char *s) { puts(s);}

int main(void)
{

#ifdef <span class="m4-c">SYMBOL</span>			/* <span class="m4-c">SYMBOL</span> */
	puts("`Hello, world!<span class="m4-a">'</span>");	/* note: LL()<span class="m4-c">SYMBOL</span> */
#endif

	define (foo);		/* Hello, world! */
	ifelse (bar);		/* Hello, world! */

	return 0;
}</pre><code><span class="m4-sha">cf9fdc8</span><a href="../preproc/preproc.file.c" title="preproc/preproc.file.c
date: 20210110 15:33:50
sha1sum: 041f49a
size: 700 B">preproc.file.c</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-c" title="âš“"></a></code></div>
<h3 id="m4-ba-cssw-vlozeni-souboru-komen" class="m4-ch"><a href="#m4-ba-cssw-vlozeni-souboru-komen-toc" title="Obsah"></a><a href="#m4-ba-cssw-vlozeni-souboru-komen" title="âš“">B.2</a><code>`'</code> CSS: vloÅ¾enÃ­ souboru, komentÃ¡Å™<a href="#m4--toc" title="Nahoru"></a></h3>
<p>CSS pouÅ¾Ã­vÃ¡ znak <code class="m4-hgl" data-55="A" data-57="A">#</code> pro kÃ³dy barev, coÅ¾ je takÃ© zaÄÃ¡tek jednoÅ™Ã¡dkovÃ©ho M4 komentÃ¡Å™e.
KlÃ­ÄovÃ© slovo <code class="m4-hgl" data-56="A">changecom(/*,*/)</code> nastavÃ­ vÃ­ceÅ™Ã¡dkovÃ½ komentÃ¡Å™ <code class="m4-hgl" data-57="B" data-56="C">/* â€¦ */</code> a&nbsp;pÅ™epÃ­Å¡e se na <abbr title="epsilon â€“ prÃ¡zdnÃ½ symbol"><code>Îµ</code></abbr>.
KomentÃ¡Å™e se vypÃ­najÃ­ stejnÃ½m klÃ­ÄovÃ½m slovem <code class="m4-hgl" data-56="B">changecom</code> bez parametrÅ¯.</p>
<div id="m4-preproc_foo-css" class="m4-src"><pre title="soubor vloÅ¾enÃ½ makro procesorem">.foo {
	border: WIDTH 2px 1px;
}</pre><code><span class="m4-sha">9e13656</span><a href="../preproc/foo.css" title="preproc/foo.css
date: 20200211 02:32:35
sha1sum: 70f2196
size: 33 B">foo.css</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_foo-css" title="âš“"></a></code></div>
<div id="m4-preproc_file-css-m4" class="m4-src"><pre># CSS preprocessor

define(`WIDTH', `3px')
define(`TOP', `<span class="m4-a">#</span>f00')
define(`SIDES', `<span class="m4-a">#</span>0f0')
define(`BOTTOM', `<span class="m4-a">#</span>00f')
define(`SITE', `www.root.cz')
define(`IMAGE', `m4tux.png')
define(`PATH', `https://SITE/IMAGE')

divert(0)dnl</pre><code><span class="m4-sha">9e13656</span><a href="../preproc/file.css.m4" title="preproc/file.css.m4
date: 20200211 02:32:35
sha1sum: df580d7
size: 224 B">file.css.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-css-m4" title="âš“"></a></code></div>
<div id="m4-preproc_file-css" class="m4-src"><pre>/* DONTE() */<span class="m4-a">changecom(/*,*/)</span>
<span class="m4-c">/* DONTE() */</span>

include(`foo.css')dnl

.bar {
	border-width: WIDTH;
	border-color: TOP SIDES BOTTOM;
	background-image: url('PATH');
}

<span class="m4-c">/* DONTE() */</span>
<span class="m4-b">changecom</span>/* DONTE() */<span class="m4-a">changecom(/*,*/)</span></pre><code><span class="m4-sha">3ed8f6a</span><a href="../preproc/file.css" title="preproc/file.css
date: 20200505 00:05:58
sha1sum: 380eb22
size: 218 B">file.css</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-css" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-css-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0q.m4" title="gfiles/root0q.m4
date: 20210110 15:33:50
git rev: cf9fdc8
sha1sum: eb74312
size: 1154 B">root0q.m4</a> <a href="../preproc/file.css.m4" title="preproc/file.css.m4
date: 20200211 02:32:35
git rev: 9e13656
sha1sum: df580d7
size: 224 B">file.css.m4</a> <a href="../preproc/file.css" title="preproc/file.css
date: 20200505 00:05:58
git rev: 3ed8f6a
sha1sum: 380eb22
size: 218 B">file.css</a> > <a href="../preproc/preproc.file.css" title="preproc/preproc.file.css
date: 20200509 00:48:05
git rev: 41542d1
sha1sum: 65fa35b
size: 293 B">preproc.file.css</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-css-command" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-css" class="m4-src"><pre>/* DO NOT EDIT! This file is generated automatically! */
<span class="m4-b">/* DONTE() */</span>

.foo {
	border: 3px 2px 1px;
}

.bar {
	border-width: 3px;
	border-color: <span class="m4-a">#</span>f00 <span class="m4-a">#</span>0f0 <span class="m4-a">#</span>00f;
	background-image: url('https://www.root.cz/m4tux.png');
}

<span class="m4-b">/* DONTE() */</span>
/* DO NOT EDIT! This file is generated automatically! */</pre><code><span class="m4-sha">41542d1</span><a href="../preproc/preproc.file.css" title="preproc/preproc.file.css
date: 20200509 00:48:05
sha1sum: 65fa35b
size: 293 B">preproc.file.css</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-css" title="âš“"></a></code></div>
<h3 id="m4-bashw-netisknutelne-znaky" class="m4-ch"><a href="#m4-bashw-netisknutelne-znaky-toc" title="Obsah"></a><a href="#m4-bashw-netisknutelne-znaky" title="âš“">B.3</a><b><code>â‚â†</code></b> Bash: netisknutelnÃ© znaky<a href="#m4--toc" title="Nahoru"></a></h3>
<p>Bash pouÅ¾Ã­vÃ¡ oba znaky, <code>`</code> a <code>[</code>.
Nechceme-li je skrÃ½vat do makra <code>LL()</code>, mÅ¯Å¾eme pouÅ¾Ã­t pro <a href="#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­zenÃ­ expanze neterminÃ¡lÅ¯</a> <span title="zobrazenÃ© jako UTF-8 znaky" class="m4-hgl" data-58="A" data-59="A">netisknutelnÃ© znaky</span>, viz. pÅ™Ã­klad:</p>
<div id="m4-preproc_file-sh-m4" class="m4-src"><pre># vim:mps+=<span class="m4-a">â‚</span>\:<span class="m4-a">â†</span>

# A â†’ Î²
define(<span class="m4-a">â‚</span>LEFT<span class="m4-a">â†</span>, <span class="m4-a">â‚</span>$<span class="m4-a">â‚</span>#<span class="m4-a">â†</span><span class="m4-a">â†</span>)
define(<span class="m4-a">â‚</span>OP<span class="m4-a">â†</span>, <span class="m4-a">â‚</span>-eq<span class="m4-a">â†</span>)
define(<span class="m4-a">â‚</span>RIGHT<span class="m4-a">â†</span>, <span class="m4-a">â‚</span>0<span class="m4-a">â†</span>)

divert(0)dnl</pre><code><span class="m4-sha">b53eafe</span><a href="../preproc/file.sh.m4" title="preproc/file.sh.m4
date: 20200106 16:21:10
sha1sum: f1c81b2
size: 106 B">file.sh.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-sh-m4" title="âš“"></a></code></div>
<div id="m4-preproc_file-sh" class="m4-src"><pre>#!/bin/bash
#
<span class="m4-a">â‚</span>#<span class="m4-a">â†</span> DONTE()

HELLO=`echo 'SYMBOL'`

if [[ LEFT OP RIGHT ]]
then
	echo $HELLO
fi</pre><code><span class="m4-sha">b53eafe</span><a href="../preproc/file.sh" title="preproc/file.sh
date: 20200106 16:21:10
sha1sum: fe8d3e3
size: 94 B">file.sh</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_file-sh" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-sh-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0n.m4" title="gfiles/root0n.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: 8bb195a
size: 1168 B">root0n.m4</a> <a href="../preproc/file.sh.m4" title="preproc/file.sh.m4
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: f1c81b2
size: 106 B">file.sh.m4</a> <a href="../preproc/file.sh" title="preproc/file.sh
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: fe8d3e3
size: 94 B">file.sh</a> > <a href="../preproc/preproc.file.sh" title="preproc/preproc.file.sh
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: 504d5cd
size: 137 B">preproc.file.sh</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-sh-command" title="âš“"></a></code></div>
<div id="m4-preproc_preproc-file-sh" class="m4-src"><pre>#!/bin/bash
#
# DO NOT EDIT! This file is generated automatically!

HELLO=`echo 'Hello, world!'`

if [[ $# -eq 0 ]]
then
	echo $HELLO
fi</pre><code><span class="m4-sha">b53eafe</span><a href="../preproc/preproc.file.sh" title="preproc/preproc.file.sh
date: 20200106 16:21:10
sha1sum: 504d5cd
size: 137 B">preproc.file.sh</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-preproc_preproc-file-sh" title="âš“"></a></code></div>
<h2 id="m4-m4w-priklady" class="m4-ch"><a href="#m4-m4w-priklady-toc" title="Obsah"></a><a href="#m4-m4w-priklady" title="âš“">C</a>M4: pÅ™Ã­klady<a href="#m4--toc" title="Nahoru"></a></h2>
<div title="pro informaci" class="rs-tip-major m4-info">Znaky {<code title="uvozovky" class="m4-xp">`'</code>, <code title="hranatÃ© zÃ¡vorky" class="m4-xp">[]</code>, <code title="netisknutelnÃ© znaky" class="m4-xp">â‚â†</code>, <code title="UTF-8 znaky" class="m4-xp">âŸ¦âŸ§</code>} v&nbsp;nÃ¡zvu pÅ™Ã­kladu <a href="../generovani-kodu-v-m4-uvod/preview.html#m4-rizeni-expanze-neterminalu" title="Å˜Ã­zenÃ­ expanze neterminÃ¡lÅ¯">Å™Ã­dÃ­ expanzi neterminÃ¡lÅ¯</a>.</div>
<p id="m4-lr-jsonw-leva-zavorka-l-toc" class="m4-l2"><a href="#m4-lr-jsonw-leva-zavorka-l"><b>C.1</b><code>[]</code> JSON: levÃ¡ zÃ¡vorka <code>[</code></a></p>
<p id="m4-lr-bashw-pocitadla-toc" class="m4-l2"><a href="#m4-lr-bashw-pocitadla"><b>C.2</b><code>[]</code> Bash: poÄÃ­tadla</a></p>
<p id="m4-lr-hw-zavorky-lr-l-r-lhr-ldnl-toc" class="m4-l2"><a href="#m4-lr-hw-zavorky-lr-l-r-lhr-ldnl"><b>C.3</b><code>[]</code> .h: zÃ¡vorky <code>[]</code>, <code>[,]</code>, <code>[#]</code>, <code>[dnl]</code></a></p>
<p id="m4-lr-awkw-priklady-bezpecnejsic-toc" class="m4-l2"><a href="#m4-lr-awkw-priklady-bezpecnejsic"><b>C.4</b><code>[]</code> AWK: pÅ™Ã­klady bezpeÄnÄ›jÅ¡Ã­ch maker</a></p>
<h3 id="m4-lr-jsonw-leva-zavorka-l" class="m4-ch"><a href="#m4-lr-jsonw-leva-zavorka-l-toc" title="Obsah"></a><a href="#m4-lr-jsonw-leva-zavorka-l" title="âš“">C.1</a><code>[]</code> JSON: levÃ¡ zÃ¡vorka <code>[</code><a href="#m4--toc" title="Nahoru"></a></h3>
<p>UvnitÅ™ hranatÃ½ch zÃ¡vorek <code>[â€¦ se neterminÃ¡ly neexpandujÃ­ â€¦]</code>.
Proto je levÃ¡ hranatÃ¡ zÃ¡vorka <code>[</code> nahrazena makrem <code class="m4-hgl" data-61="6" data-62="3">LL()</code> z&nbsp;koÅ™enovÃ©ho souboru.</p>
<div id="m4-hello_world_json-m4" class="m4-src"><pre># JSON

divert(0)dnl
{"foo": {
	"_comment": "DONTE()",
	"bar": LL()
		{"baz": "SYMBOL"}
	]
}}</pre><code><span class="m4-sha">39013f2</span><a href="../hello_world/json.m4" title="hello_world/json.m4
date: 20210103 13:26:54
sha1sum: 7e2f54b
size: 94 B">json.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_json-m4" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-json-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0b.m4" title="gfiles/root0b.m4
date: 20210118 19:16:44
git rev: f77d0bc
sha1sum: 5350ae1
size: 1087 B">root0b.m4</a> <a href="../hello_world/json.m4" title="hello_world/json.m4
date: 20210103 13:26:54
git rev: 39013f2
sha1sum: 7e2f54b
size: 94 B">json.m4</a> > <a href="../hello_world/hello_world.json" title="hello_world/hello_world.json
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: 94f820a
size: 120 B">hello_world.json</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-json-command" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-json" class="m4-src"><pre>{"foo": {
	"_comment": "DO NOT EDIT! This file is generated automatically!",
	"bar": [
		{"baz": "Hello, world!"}
	]
}}</pre><code><span class="m4-sha">b53eafe</span><a href="../hello_world/hello_world.json" title="hello_world/hello_world.json
date: 20200106 16:21:10
sha1sum: 94f820a
size: 120 B">hello_world.json</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-json" title="âš“"></a></code></div>
<h3 id="m4-lr-bashw-pocitadla" class="m4-ch"><a href="#m4-lr-bashw-pocitadla-toc" title="Obsah"></a><a href="#m4-lr-bashw-pocitadla" title="âš“">C.2</a><code>[]</code> Bash: poÄÃ­tadla<a href="#m4--toc" title="Nahoru"></a></h3>
<p>PoÄÃ­tadla <code class="m4-hgl" data-63="A">COUNT_UP</code> a&nbsp;<code class="m4-hgl" data-63="B">COUNT_DOWN</code> jsou definovÃ¡na v&nbsp;souboru <code>countu.m4</code>.
<span class="m4-hgl" data-63="C">NeterminÃ¡ly</span> <code class="m4-hgl" data-63="20" data-64="5">[â€¦ uvnitÅ™ zÃ¡vorek â€¦]</code> nebudou expandovÃ¡ny, pouze se odeberou vnÄ›jÅ¡Ã­ zÃ¡vorky.
Nutno pouÅ¾Ã­t makro <code class="m4-hgl" data-63="30" data-64="15">LL()</code> z&nbsp;koÅ™enovÃ©ho souboru.</p>
<div id="m4-hello_world_sh-m4" class="m4-src"><pre># A â†’ Î²
define([<span class="m4-c">LEFT</span>], [$[#]])
define([<span class="m4-c">OP</span>], [-eq])
define([<span class="m4-c">RIGHT</span>], [0])

# define two counters
# A â†’ Î²
define([__COUNTUP__], defn([<span class="m4-a">COUNT_UP</span>]))
define([__COUNTDN__], defn([<span class="m4-b">COUNT_DOWN</span>]))

# init counters
__COUNTUP__(10)
__COUNTDN__(10)

divert(0)dnl
#!/bin/bash
#
[#] DONTE()

if [ LEFT OP RIGHT ]
then
	echo '__COUNTUP__] SYMBOL LL()__COUNTDN__'
fi

if test LEFT OP RIGHT
then
	echo '__COUNTUP__] SYMBOL LL()__COUNTDN__'
fi

if LL()LL() LEFT OP RIGHT ]]
then
	echo '__COUNTUP__] SYMBOL LL()__COUNTDN__'
fi</pre><code><span class="m4-sha">39013f2</span><a href="../hello_world/sh.m4" title="hello_world/sh.m4
date: 20210103 13:26:54
sha1sum: f9b14e5
size: 511 B">sh.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_sh-m4" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-sh-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0u.m4" title="gfiles/root0u.m4
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: f498f9d
size: 1320 B">root0u.m4</a> <a href="../gfiles/countu.m4" title="gfiles/countu.m4
date: 20200429 07:34:47
git rev: 17cb82f
sha1sum: 83b97d7
size: 947 B">countu.m4</a> <a href="../hello_world/sh.m4" title="hello_world/sh.m4
date: 20210103 13:26:54
git rev: 39013f2
sha1sum: f9b14e5
size: 511 B">sh.m4</a> > <a href="../hello_world/hello_world.sh" title="hello_world/hello_world.sh
date: 20200106 16:21:10
git rev: b53eafe
sha1sum: 6d2cc4c
size: 236 B">hello_world.sh</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-sh-command" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-sh" class="m4-src"><pre>#!/bin/bash
#
# DO NOT EDIT! This file is generated automatically!

if  LEFT OP RIGHT 
then
	echo '10] Hello, world! [10'
fi

if test $# -eq 0
then
	echo '11] Hello, world! [9'
fi

if [[ $# -eq 0 ]]
then
	echo '12] Hello, world! [8'
fi</pre><code><span class="m4-sha">b53eafe</span><a href="../hello_world/hello_world.sh" title="hello_world/hello_world.sh
date: 20200106 16:21:10
sha1sum: 6d2cc4c
size: 236 B">hello_world.sh</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-sh" title="âš“"></a></code></div>
<h3 id="m4-lr-hw-zavorky-lr-l-r-lhr-ldnl" class="m4-ch"><a href="#m4-lr-hw-zavorky-lr-l-r-lhr-ldnl-toc" title="Obsah"></a><a href="#m4-lr-hw-zavorky-lr-l-r-lhr-ldnl" title="âš“">C.3</a><code>[]</code> .h: zÃ¡vorky <code>[]</code>, <code>[,]</code>, <code>[#]</code>, <code>[dnl]</code><a href="#m4--toc" title="Nahoru"></a></h3>
<p>PrÃ¡zdnÃ½ pÃ¡r <code class="m4-hgl" data-65="A">[]</code> (nebo prÃ¡zdnÃ½ symbol v&nbsp;zÃ¡vorkÃ¡ch <code class="m4-hgl" data-65="A">[Îµ]</code>) slouÅ¾Ã­ jako oddÄ›lovaÄ symbolÅ¯.
ZÃ¡vorky kolem znaku komentÃ¡Å™e <code class="m4-hgl" data-65="B" data-66="B">[#]</code> vypnou jeho pÅ¯vodnÃ­ vÃ½znam, stejnÄ› jako vypnou vÃ½znam <i>silnÄ›jÅ¡Ã­ho</i> M4 komentÃ¡Å™e
<code class="m4-hgl" data-65="C" data-66="C">[dnl]</code>.
Vypnou takÃ© pÅ¯vodnÃ­ vÃ½znam ÄÃ¡rky <code>[,]</code> jako oddÄ›lovaÄe argumentÅ¯ maker.
Tyto symboly se stanou obyÄejnÃ½mi terminÃ¡lnÃ­mi symboly bez jakÃ©hokoliv vedlejÅ¡Ã­ho efektu.</p>
<div id="m4-hello_world_h-m4" class="m4-src"><pre># A â†’ Î²
define([HELLO], [HELLO_WORLD])

divert(0)dnl
/*
 * <span class="m4-c">[dnl]</span> DONTE()
 */

<span class="m4-b">[#]</span>ifndef __<span class="m4-a">[]</span>HELLO<span class="m4-a">[]</span>_H
<span class="m4-b">[#]</span>define __<span class="m4-a">[]</span>HELLO<span class="m4-a">[]</span>_H

<span class="m4-b">[#]</span>define HELLO	SYMBOL

<span class="m4-b">[#]</span>endif /* __<span class="m4-a">[]</span>HELLO<span class="m4-a">[]</span>_H */</pre><code><span class="m4-sha">ce5cd99</span><a href="../hello_world/h.m4" title="hello_world/h.m4
date: 20200213 14:50:23
sha1sum: 267465d
size: 183 B">h.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_h-m4" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-h-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root0b.m4" title="gfiles/root0b.m4
date: 20210118 19:16:44
git rev: f77d0bc
sha1sum: 5350ae1
size: 1087 B">root0b.m4</a> <a href="../hello_world/h.m4" title="hello_world/h.m4
date: 20200213 14:50:23
git rev: ce5cd99
sha1sum: 267465d
size: 183 B">h.m4</a> > <a href="../hello_world/hello_world.h" title="hello_world/hello_world.h
date: 20200213 14:51:13
git rev: 6b10c6c
sha1sum: 306af96
size: 179 B">hello_world.h</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-h-command" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-h" class="m4-src"><pre>/*
 * <span class="m4-c">dnl</span> DO NOT EDIT! This file is generated automatically!
 */

<span class="m4-b">#</span>ifndef __HELLO_WORLD_H
<span class="m4-b">#</span>define __HELLO_WORLD_H

<span class="m4-b">#</span>define HELLO_WORLD	Hello, world!

<span class="m4-b">#</span>endif /* __HELLO_WORLD_H */</pre><code><span class="m4-sha">6b10c6c</span><a href="../hello_world/hello_world.h" title="hello_world/hello_world.h
date: 20200213 14:51:13
sha1sum: 306af96
size: 179 B">hello_world.h</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-h" title="âš“"></a></code></div>
<h3 id="m4-lr-awkw-priklady-bezpecnejsic" class="m4-ch"><a href="#m4-lr-awkw-priklady-bezpecnejsic-toc" title="Obsah"></a><a href="#m4-lr-awkw-priklady-bezpecnejsic" title="âš“">C.4</a><code>[]</code> AWK: pÅ™Ã­klady bezpeÄnÄ›jÅ¡Ã­ch maker<a href="#m4--toc" title="Nahoru"></a></h3>
<p>UniverzÃ¡lnÃ­ vÃ½straha <code class="m4-hgl" data-67="A" data-68="A">DONTE</code> se ignoruje bez zÃ¡vorek, stejnÄ› jako <code class="m4-hgl" data-67="B" data-68="B">LL</code>, <code>RR</code>, â€¦
TakovÃ¡ makra explicitnÄ› vytvÃ¡Å™Ã­ vÃ½vojÃ¡Å™ skriptÅ¯, prohlÃ©dnÄ›te si koÅ™enovÃ½ soubor <code>root1b.m4</code>.</p>
<div id="m4-hello_world_awk-m4" class="m4-src"><pre># AWK

divert(0)dnl
#!/bin/awk -f
#
[# DONTE()] ---> "DONTE()"

BEGIN { print "<span class="m4-a">DONTE</span>[]() <span class="m4-b">LL</span> () LL() SYMBOL ]" }</pre><code><span class="m4-sha">39013f2</span><a href="../hello_world/awk.m4" title="hello_world/awk.m4
date: 20210103 13:26:54
sha1sum: 83243af
size: 112 B">awk.m4</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_awk-m4" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-awk-command" class="m4-cmd m4-usc"><pre title="pÅ™Ã­kaz">m4 -DSYMBOL='Hello, world!' <a href="../gfiles/root1b.m4" title="gfiles/root1b.m4
date: 20210118 23:26:59
git rev: 44c7674
sha1sum: 10e4b61
size: 1603 B">root1b.m4</a> <a href="../hello_world/awk.m4" title="hello_world/awk.m4
date: 20210103 13:26:54
git rev: 39013f2
sha1sum: 83243af
size: 112 B">awk.m4</a> > <a href="../hello_world/hello_world.awk" title="hello_world/hello_world.awk
date: 20210118 19:23:51
git rev: 02f55b8
sha1sum: a92eb9d
size: 135 B">hello_world.awk</a></pre><code><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-awk-command" title="âš“"></a></code></div>
<div id="m4-hello_world_hello_world-awk" class="m4-src"><pre>#!/bin/awk -f
#
# DONTE() ---> "DO NOT EDIT! This file is generated automatically!"

BEGIN { print "<span class="m4-a">DONTE</span>() <span class="m4-b">LL</span> () [ Hello, world! ]" }</pre><code><span class="m4-sha">02f55b8</span><a href="../hello_world/hello_world.awk" title="hello_world/hello_world.awk
date: 20210118 19:23:51
sha1sum: a92eb9d
size: 135 B">hello_world.awk</a><span class="m4-cb" title="vybrat text"></span><a href="#m4-hello_world_hello_world-awk" title="âš“"></a></code></div>
<h2 id="m4-proc-pouzivat-m4-a-proc-neq" class="m4-ch"><a href="#m4-proc-pouzivat-m4-a-proc-neq-toc" title="Obsah"></a><a href="#m4-proc-pouzivat-m4-a-proc-neq" title="âš“">D</a>ProÄ pouÅ¾Ã­vat M4 a&nbsp;proÄ ne?<a href="#m4--toc" title="Nahoru"></a></h2>
<p id="m4-proc-generovat-kod-v-m4-toc" class="m4-l2"><a href="#m4-proc-generovat-kod-v-m4"><b>D.1</b><code>ğŸ‘</code> ProÄ generovat kÃ³d v&nbsp;M4</a></p>
<p id="m4-proc-se-vyhnout-m4-toc" class="m4-l2"><a href="#m4-proc-se-vyhnout-m4"><b>D.2</b><code>ğŸ‘</code> ProÄ se vyhnout M4</a></p>
<h3 id="m4-proc-generovat-kod-v-m4" class="m4-ch"><a href="#m4-proc-generovat-kod-v-m4-toc" title="Obsah"></a><a href="#m4-proc-generovat-kod-v-m4" title="âš“">D.1</a><code>ğŸ‘</code> ProÄ generovat kÃ³d v&nbsp;M4<a href="#m4--toc" title="Nahoru"></a></h3>
<ul>
<li id="m4-direct-use-of-cfg">pÅ™Ã­mÃ© pouÅ¾itÃ­ <a href="#m4-bezkontextova-gramatika" title="BezkontextovÃ¡ gramatika">bezkontextovÃ© gramatiky</a> (rekurze zdarma)
<ul><li>pro transformaci dat staÄÃ­ napsat minimum M4 kÃ³du</li></ul></li>
<li id="m4-direct-use-of-atm">pÅ™Ã­mÃ© pouÅ¾itÃ­ automatÅ¯
<ul><li>moÅ¾nost vymodelovat si potÅ™ebnÃ© algoritmy (M4 nepotÅ™ebuje verze)</li></ul></li>
<li id="m4-direct-use-of-stacks">pÅ™Ã­mÃ© pouÅ¾itÃ­ zÃ¡sobnÃ­kÅ¯
<ul><li>zÃ¡sobnÃ­ky propojenÃ© s&nbsp;automaty rozÅ¡iÅ™ujÃ­ moÅ¾nosti generÃ¡toru kÃ³du</li></ul></li>
<li id="m4-direct-use-of-queues">pÅ™Ã­mÃ© pouÅ¾itÃ­ vÃ½stupnÃ­ch front pro doÄasnÃ© uloÅ¾enÃ­ vÃ½slednÃ½ch ÄÃ¡stÃ­ kÃ³du
<ul><li>jednotlivÃ© fronty jsou na zÃ¡vÄ›r vypsÃ¡ny na vÃ½stup ve vzestupnÃ©m poÅ™adÃ­</li></ul></li>
<li id="m4-significantly-faster-code-gener">vÃ½raznÄ› vyÅ¡Å¡Ã­ rychlost generovÃ¡nÃ­ kÃ³du (ve srovnÃ¡nÃ­ s&nbsp;XSLT)
<ul><li>nÃ­zkÃ© nÃ¡roky na vÃ½poÄetnÃ­ zdroje</li></ul></li>
</ul>
<h3 id="m4-proc-se-vyhnout-m4" class="m4-ch"><a href="#m4-proc-se-vyhnout-m4-toc" title="Obsah"></a><a href="#m4-proc-se-vyhnout-m4" title="âš“">D.2</a><code>ğŸ‘</code> ProÄ se vyhnout M4<a href="#m4--toc" title="Nahoru"></a></h3>
<ul>
<li id="m4-low-level-language">univerzÃ¡lnÃ­ jazyk nÃ­zkÃ© ÃºrovnÄ› (podobnÄ› jako jazyk C)
<ul><li>coÅ¾ vÃ½mÄ›nou poskytuje ohromnou flexibilitu jako UNIX</li></ul></li>
<li id="m4-nearly-forgotten-language">tÃ©mÄ›Å™ neexistujÃ­cÃ­ komunita vÃ½vojÃ¡Å™Å¯ (podzim 2019)
<ul><li>M4 je zapomenutÃ½ jazyk, mÃ¡lo existujÃ­cÃ­ch projektÅ¯</li></ul></li>
<li id="m4-unusual-language">neobvyklÃ© programovacÃ­ paradigma vyÅ¾adujÃ­cÃ­ splnÄ›nÃ­ <a href="#m4-predpoklady-pro-zvladnuti-m4" title="PÅ™edpoklady pro zvlÃ¡dnutÃ­ M4">nÄ›kolika pÅ™edpokladÅ¯</a>
<ul><li><b>prÃ¡vÄ› proto</b> lze M4 povaÅ¾ovat za nÃ¡roÄnÃ½ jazyk</li></ul></li>
<li id="m4-experience-dependent">produktivita znaÄnÄ› zÃ¡visÃ­ na zkuÅ¡enostech (moÅ¾nÃ½ problÃ©m s&nbsp;termÃ­ny)
<ul><li>psanÃ­ M4 skriptÅ¯ vyÅ¾aduje <b>zÃ¡kladnÃ­</b> znalost automatÅ¯ a gramatik</li></ul></li>
<li id="m4-maintenance-could-be-hard">ÃºdrÅ¾ba Å¡patnÄ› napsanÃ©ho M4 kÃ³du nenÃ­ jednoduchÃ¡
<ul><li>existujÃ­cÃ­ M4 kÃ³d je snadnÃ© promÄ›nit ve zmatek (nutnÃ½ dohled!)</li></ul></li>
</ul>
<script>var m4root={init:function(b,c,a,v,G,f,h){var d,e,g,k,l,m,o,p=[],q=[],i,s,t,u,x,y,z,B,C,D,E;for(D of a)D.lastChild.firstChild.onclick=this.b;for(D of c){y=D.y=D.firstElementChild,t=y.innerHTML.split('\n').length,C=y.nextElementSibling;E=document.createElement("pre");E.className=G;if(C&&C.tagName=="CODE"){if(C.childNodes.length==2){C.firstChild.onclick=this.b}else{C.firstChild.onclick=this.a;C.childNodes[2].onclick=this.b}}for(i=0;i<t;i++){e=document.createElement("div");if(i&1)e.className=f;E.appendChild(e)}D.insertBefore(E,y)}for(l of b){B=Object.keys(l.dataset);for(i of B){D=c[i];if(!D.n)D.n=[];D.n.push({w:l,H:l.dataset[i]})}l.onmouseover=function(){var k;if(this.o)for(k of this.o)k.w.classList.add(k.H);if(this.q)for(k of this.q)k.w.classList.add(...k.H)};l.onmouseout=function(){var k;if(this.o)for(k of this.o)k.w.classList.remove(k.H);if(this.q)for(k of this.q)k.w.classList.remove(...k.H)}}for(D of c){if(!D.n)continue;g=1;if(D.style.counterReset)g+=parseInt(D.style.counterReset.split(' ')[1]);E=D.firstElementChild;for(k of D.n){k.H=k.H.replace(/[A-Z]+|[_a-z]\w*|\d+-\d+/g,'"$&"').replace(/^:/,'"":');k.H=/:/.test(k.H)?"{"+k.H+"}":'{"":['+k.H+']}';x=JSON.parse(k.H,function(r,H){if(/^[A-Z]+$/.test(H)){q.push(v+H);return undefined}if(/^\d+-\d+$/.test(H)){m=H.split('-');s=parseInt(m[1]);for(i=m[0];i<=s;i++){H=i-g;if(H>=0)p.push(H)}return undefined}if(Number.isInteger(H)){H-=g;return H>=0?H:undefined}if(Array.isArray(H)){H=H.filter(function(){return true}).concat(p);p=[];return H.length?H:undefined}if(typeof H==='object')return H;return undefined});if(q.length){if(!k.w.q)k.w.q=[];k.w.q.push({w:D.y,H:q});q=[]}o=Object.keys(x);if(o.length){if(!k.w.o)k.w.o=[];for(d of o){u=x[d];z=d?v+d:h;for(i of u)k.w.o.push({w:E.children[i],H:z})}}}}},a:function(){var a=this.parentNode,b,c,d,e;if(this.b){if(this.b.isConnected)a.removeChild(this.b);else a.appendChild(this.b);return}b=document.createElement("div");e=this.nextSibling.title.split('\n');for(d of e){c=document.createElement("div");c.appendChild(document.createTextNode(d));b.appendChild(c)}a.appendChild(this.b=b)},b:function(){var a=this.parentNode.previousSibling,b,c;if(window.getSelection){b=window.getSelection();c=document.createRange();c.selectNodeContents(a);b.removeAllRanges();b.addRange(c)}else{c=document.body.createTextRange();c.moveToElementText(a);c.select()}}}</script>
<script>m4root.init(document.getElementsByClassName("m4-hgl"),document.getElementsByClassName("m4-src"),document.getElementsByClassName("m4-cmd"),"m4-","m4-re","m4-ev","m4-dh")</script>
</div>
</div>
</div>
<div class="element-margin-top  section ">
<div class="section__header">
<h2 class="section__heading">Autor ÄlÃ¡nku</h2>
</div>
<div class="design-box__content">
<div class="author">
<div class="author__pic avatar-round">
<a class="avatar__wrap" href="#" title="Profil autora">
<img class="avatar__img" src="../img/pepa.png" width="70" height="70" alt="Josef KubÃ­n">
</a>
</div>
<div class="author__info">
<div class="author__details">
<h3 class="author__name">
<a href="https://www.root.cz/autori/">Josef KubÃ­n</a>
</h3>
</div>
<div class="author__bio urs">
<p><span class="rs-person">Josef KubÃ­n</span> vystudoval Fakultu&nbsp;informatiky Masarykovy univerzity v BrnÄ›</p>
</div>
</div>
</div>
</div>
<div class="design-impressum__item-wrapper--rubrics design-impressum__item-wrapper">
<h3 class="element-heading-reset">
<a class="design-label--empty design-label" href="https://www.root.cz/n/">NÃ¡lepky:</a>
</h3>
<ul class="design-list--labels design-list--inline design-list list-reset">
<li>
<a class="design-label--default design-label" href="https://www.root.cz/n/unix/">UNIX</a>
</li>
<li>
<a class="design-label--default design-label" href="https://www.root.cz/n/vim/">Vim</a>
</li>
</ul>
</div>
</div>
</div> 
</div> 
</div> 
</div>
</div>
</body>
</html>
